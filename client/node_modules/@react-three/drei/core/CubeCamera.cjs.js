"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),r=require("react"),t=require("react-three-fiber"),n=require("three");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=u(e);exports.CubeCamera=function(e){var u=e.children,o=e.fog,a=e.frames,f=void 0===a?1/0:a,c=e.resolution,l=void 0===c?256:c,s=e.near,d=void 0===s?1:s,m=e.far,g=void 0===m?1e3:m,v=i.default(e,["children","fog","frames","resolution","near","far"]),b=r.useRef(),p=r.useState(),h=p[0],F=p[1],q=t.useThree(),C=q.scene,E=q.gl,L=r.useMemo((function(){return new n.WebGLCubeRenderTarget(l,{minFilter:n.LinearFilter,magFilter:n.LinearFilter,format:n.RGBFormat,encoding:E.outputEncoding})}),[l]),j=0;return t.useFrame((function(){if(h&&b.current&&(f===1/0||j<f)){b.current.traverse((function(e){return e.visible=!1}));var e=C.fog;C.fog=null!=o?o:e,h.update(E,C),C.fog=e,b.current.traverse((function(e){return e.visible=!0})),j++}})),r.createElement("group",v,r.createElement("cubeCamera",{ref:F,args:[d,g,L]}),r.createElement("group",{ref:b},u(L.texture)))};
