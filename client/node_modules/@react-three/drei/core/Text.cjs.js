"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),t=require("react"),n=require("react-three-fiber"),o=require("troika-three-text");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(e),c=i(r),a=t.forwardRef((function(e,r){var i=e.anchorX,a=void 0===i?"center":i,f=e.anchorY,s=void 0===f?"middle":f,d=e.children,h=e.onSync,l=c.default(e,["anchorX","anchorY","children","onSync"]),p=n.useThree().invalidate,b=t.useState((function(){return new o.Text}))[0],v=t.useMemo((function(){var e=[],r="";return t.Children.forEach(d,(function(t){"string"==typeof t||"number"==typeof t?r+=t:e.push(t)})),[e,r]}),[d]),y=v[0],m=v[1];return t.useLayoutEffect((function(){b.sync((function(){p(),h&&h(b)}))})),t.createElement("primitive",u.default({dispose:void 0,object:b,ref:r,text:m,anchorX:a,anchorY:s},l),y)}));exports.Text=a;
