"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),t=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),r=require("react"),i=require("three"),o=require("three/examples/jsm/lines/LineGeometry"),n=require("three/examples/jsm/lines/LineMaterial"),s=require("three/examples/jsm/lines/Line2");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=a(e),l=a(t),c=r.forwardRef((function(e,t){var a=e.points,c=e.color,f=void 0===c?"black":c,d=e.vertexColors,m=e.lineWidth,p=e.dashed,v=l.default(e,["points","color","vertexColors","lineWidth","dashed"]),h=r.useState((function(){return new s.Line2}))[0],b=r.useState((function(){return new n.LineMaterial}))[0],L=r.useState((function(){return new i.Vector2(512,512)}))[0],j=r.useMemo((function(){var e=new o.LineGeometry,t=a.map((function(e){return e instanceof i.Vector3?e.toArray():e}));if(e.setPositions(t.flat()),d){var r=d.map((function(e){return e instanceof i.Color?e.toArray():e}));e.setColors(r.flat())}return e}),[a,d]);return r.useLayoutEffect((function(){h.computeLineDistances()}),[a,h]),r.useLayoutEffect((function(){p?b.defines.USE_DASH="":delete b.defines.USE_DASH,b.needsUpdate=!0}),[p,b]),r.createElement("primitive",u.default({dispose:void 0,object:h,ref:t},v),r.createElement("primitive",{dispose:void 0,object:j,attach:"geometry"}),r.createElement("primitive",u.default({dispose:void 0,object:b,attach:"material",color:f,vertexColors:Boolean(d),resolution:L,linewidth:m,dashed:p},v)))}));exports.Line=c;
