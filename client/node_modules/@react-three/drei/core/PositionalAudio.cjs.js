"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),t=require("react"),u=require("react-three-fiber"),o=require("react-merge-refs"),i=require("three");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=a(e),s=a(r),f=a(o),d=t.forwardRef((function(e,r){var o=e.url,a=e.distance,d=void 0===a?1:a,c=e.loop,l=void 0===c||c,p=s.default(e,["url","distance","loop"]),b=t.useRef(),v=u.useThree().camera,h=t.useState((function(){return new i.AudioListener}))[0],m=u.useLoader(i.AudioLoader,o);return t.useEffect((function(){var e=b.current;return e&&(e.setBuffer(m),e.setRefDistance(d),e.setLoop(l),e.play()),v.add(h),function(){v.remove(h),e&&(e.stop(),e.disconnect())}}),[m,v,d,h,l]),t.createElement("positionalAudio",n.default({ref:f.default([b,r]),args:[h]},p))}));exports.PositionalAudio=d;
