"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),t=require("react"),n=require("react-three-fiber"),o=require("../helpers/useEffectfulState.cjs.js"),u=require("three/examples/jsm/controls/PointerLockControls");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=i(e),c=i(r),s=t.forwardRef((function(e,r){var i=e.selector,s=c.default(e,["selector"]),a=s.camera,f=c.default(s,["camera"]),d=n.useThree(),v=d.camera,m=d.gl,E=d.invalidate,p=a||v,L=o((function(){if(p)return new u.PointerLockControls(p,m.domElement)}),[p,m.domElement],r);return t.useEffect((function(){return null==L||null==L.addEventListener||L.addEventListener("change",E),function(){return null==L||null==L.removeEventListener?void 0:L.removeEventListener("change",E)}}),[L,E]),t.useEffect((function(){var e=function(){return null==L?void 0:L.lock()},r=i?document.querySelector(i):document;return r&&r.addEventListener("click",e),function(){return r?r.removeEventListener("click",e):void 0}}),[L,i]),L?t.createElement("primitive",l.default({dispose:void 0,object:L},f)):null}));exports.PointerLockControls=s;
