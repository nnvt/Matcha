{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport \"antd/lib/auto-complete/style\";\nimport _AutoComplete from \"antd/lib/auto-complete\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/steps/style\";\nimport _Steps from \"antd/lib/steps\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Matcha\\\\client\\\\src\\\\pages\\\\CompleteProfile.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useCallback, useContext } from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"react-leaflet-search/css/index.css\";\nimport cupid from \"../assets/images/Cupid.svg\";\nimport \"../assets/css/steps.less\";\nimport axios from \"axios\"; // import { Logout } from \"../helper/Verifications\";\n\nimport { CloseOutlined, PlusOutlined, UserOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport ImageUploading from \"react-images-uploading\";\nimport { stepsAction, logoutAction } from \"../actions/userAction\";\nimport { Context } from \"../Contexts/Context\";\nimport L from \"leaflet\";\nimport { COMPLETE } from \"../actions/actionTypes\";\nimport { openMessageSuccess, openMessageWarning, openMessageError } from \"../helper/Verifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Step\n} = _Steps; // ?GET IP AND DATA FOR LOCALISATION\n\nconst getIP = async () => {\n  const ipclient = await axios.get(\"https://api64.ipify.org/?format=json\");\n  let ip = ipclient.data.ip;\n  let data = await axios.get(\"http://ip-api.com/json/\" + ip);\n  return data;\n};\n\nconst getTags = async () => {\n  return new Promise(async (resolve, reject) => {\n    await axios.get(\"http://localhost:3001/api/tags/list\").then(res => {\n      resolve(res.data.data);\n    }).catch(error => {\n      reject(error);\n    });\n  });\n}; // ?USE CALLBACK FOR ARRAYS TAGS\n\n\nfunction useStateCallback(initialState) {\n  _s();\n\n  const [state, setState] = useState(initialState);\n  const cbRef = useRef(null);\n  const setStateCallback = useCallback((state, cb) => {\n    cbRef.current = cb;\n    setState(state);\n  }, []);\n  useEffect(() => {\n    if (cbRef.current) {\n      cbRef.current(state);\n      cbRef.current = null;\n    }\n  }, [state]);\n  return [state, setStateCallback];\n} // * INFO COMPONNENT\n\n\n_s(useStateCallback, \"jTdDxQlCAPVP2Mx6g6s2UqDgtDs=\");\n\nconst Info = props => {\n  _s2();\n\n  const [tags, setTags] = useStateCallback([]);\n  const [options, setOptions] = useStateCallback([]);\n  const [inputVisible, setInputVisible] = useState(false);\n  const [tag, setTag] = useState(\"\");\n  const [originalTags, setOriginalTags] = useState([]);\n  const dateFormat = \"YYYY-MM-DD\";\n\n  const handleTagClick = () => {\n    setInputVisible(true);\n  }; // eslint-disable-next-line\n\n\n  useEffect(async () => {\n    await getTags().then(data => {\n      let tags = data.map(tag => {\n        return \"#\" + tag.name;\n      });\n      setOriginalTags(tags);\n      setOptions(tags.map(t => {\n        return {\n          value: t\n        };\n      }));\n    }); // eslint-disable-next-line\n  }, []);\n\n  const onSearch = searchText => {\n    // eslint-disable-next-line\n    setTag(searchText); // eslint-disable-next-line\n\n    let filtered = originalTags.filter(t => {\n      if (t.startsWith(searchText)) return t;\n    });\n    if (!searchText) filtered = originalTags;\n    if (filtered.length === 0) filtered = [searchText];\n    setOptions(filtered.map(t => {\n      return {\n        value: t\n      };\n    }));\n  };\n\n  const onSelect = data => {\n    if (tags.length <= 4) {\n      if (!tags.filter(t => t === data).length) setTags([...tags, data], data => props.confirm(data));\n      setTag(\"\");\n      setOptions(originalTags.map(t => {\n        return {\n          value: t\n        };\n      }));\n    }\n  };\n\n  const removeTag = tag => {\n    // eslint-disable-next-line\n    let usr = props.user.tags; // eslint-disable-next-line\n\n    let tags = usr.filter(t => {\n      if (t !== tag) return t;\n    });\n    setTags(tags, data => props.confirm(data));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Form, {\n    children: /*#__PURE__*/_jsxDEV(_Row, {\n      gutter: 22,\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-around\",\n        alignItems: \"center\"\n      },\n      className: \"infoContainer\",\n      children: [/*#__PURE__*/_jsxDEV(_Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n          label: \"Gender\",\n          children: /*#__PURE__*/_jsxDEV(_Radio.Group, {\n            optionType: \"button\",\n            defaultValue: props.user.gender,\n            name: \"gender\",\n            onChange: e => props.handleInfo(e),\n            children: [/*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Male\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Female\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n          label: \"Interest\",\n          children: /*#__PURE__*/_jsxDEV(_Radio.Group, {\n            optionType: \"button\",\n            defaultValue: props.user.interest,\n            name: \"interest\",\n            onChange: e => props.handleInfo(e),\n            children: [/*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Male\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Female\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Radio.Button, {\n              value: \"Other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Col, {\n        span: 24,\n        className: \"inputsContainer\",\n        style: {\n          width: \"60%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n          label: \"Tags\",\n          children: [props.user.tags.map((tag, index) => /*#__PURE__*/_jsxDEV(_Tag, {\n            className: \"tags\",\n            width: 0.5,\n            style: {\n              color: \"#fff\",\n              marginBottom: \"15px\",\n              fontSize: \"15px\",\n              borderRadius: \"6px\",\n              divor: \"white\",\n              padding: \"5px 13px\",\n              boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\n              background: \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\"\n            },\n            onClose: () => removeTag(tag),\n            closeIcon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 28\n            }, this),\n            closable: true,\n            children: tag\n          }, tag, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)), inputVisible && /*#__PURE__*/_jsxDEV(_AutoComplete, {\n            options: options,\n            style: {\n              width: \"110px\",\n              marginRight: \"8px\",\n              verticalAlign: \"top\",\n              marginTop: \"2px\",\n              height: \"30px\"\n            },\n            value: tag,\n            onSelect: onSelect,\n            onSearch: onSearch,\n            placeholder: \"Add new tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), !inputVisible && /*#__PURE__*/_jsxDEV(_Tag, {\n            className: \"site-tag-plus\",\n            onClick: handleTagClick,\n            children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), \" New Tag\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Col, {\n          md: 12,\n          span: 24,\n          children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(_DatePicker, {\n              name: \"birthdate\",\n              value: props.user.birthday,\n              format: dateFormat,\n              onChange: value => {\n                if (value) props.handleDate(value);\n              },\n              placeholder: \"Birthdate\",\n              style: {\n                width: \"100%\",\n                height: \"38px\",\n                fontSize: \"0.8rem\",\n                border: \"none\",\n                borderBottom: \"2px solid #d9d9d9\",\n                divor: \"black\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n          value: props.user.bio,\n          children: /*#__PURE__*/_jsxDEV(_Input.TextArea, {\n            rows: 4,\n            value: props.user.bio,\n            name: \"bio\",\n            onChange: e => props.handleInfo(e),\n            allowClear: true,\n            showCount: true,\n            maxLength: 100,\n            placeholder: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Info, \"4PpyMMRcvRyr8d4j2W7p/FC/LBw=\", false, function () {\n  return [useStateCallback, useStateCallback];\n});\n\n_c = Info;\n\nconst Pictures = props => {\n  _s3();\n\n  const [profile, setProfile] = useState(\"\");\n  const [gallery, setGallery] = useState([]);\n  useEffect(() => {\n    if (!gallery.length && props.user.gallery.length) setGallery(props.user.gallery.map(g => {\n      let obj = {\n        dataURL: URL.createObjectURL(g),\n        file: g\n      };\n      return obj;\n    }));\n    if (profile === \"\" && props.user.profile !== \"\") setProfile(URL.createObjectURL(props.user.profile[0])); // eslint-disable-next-line\n  }, []);\n  const profileUpload = useRef(null);\n  const galleryUpload = useRef(null);\n\n  const handleProfileUpload = e => {\n    props.handleProfileimage(e);\n    setProfile(e[0].dataURL);\n  };\n\n  const handleGalleryUpload = e => {\n    setGallery(e);\n    props.handleGallery(e);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ImageUploading, {\n      name: \"profile\",\n      onChange: handleProfileUpload,\n      maxNumber: 1,\n      children: ({\n        onImageUpload,\n        onImageUpdate\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload__image-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(_Button, {\n          ref: profileUpload,\n          style: {\n            display: \"none\"\n          },\n          onClick: profile === \"\" ? onImageUpdate : onImageUpdate // {...dragProps}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileImg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: profile === \"\" ? /*#__PURE__*/_jsxDEV(_Avatar, {\n          size: 200,\n          icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 21\n          }, this),\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          onClick: () => profileUpload.current.click()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: () => profileUpload.current.click(),\n          src: profile,\n          alt: \"...\",\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            borderRadius: \"50%\",\n            objectFit: \"cover\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageUploading, {\n      multiple: true,\n      name: \"gallery\",\n      value: gallery,\n      onChange: handleGalleryUpload,\n      maxNumber: 4,\n      children: ({\n        onImageUpload,\n        onImageRemove,\n        imageList\n      }) =>\n      /*#__PURE__*/\n      // write your building UI\n      _jsxDEV(\"div\", {\n        className: \"upload__image-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(_Button, {\n          ref: galleryUpload,\n          style: {\n            display: \"none\"\n          },\n          onClick: onImageUpload,\n          children: \"Upload image for gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listImage\",\n          children: [imageList.map((image, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tte\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image.dataURL,\n              alt: \"...\",\n              style: {\n                width: \"100%\",\n                height: \"100%\",\n                position: \"absolute\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"removeImg\",\n              onClick: () => onImageRemove(key),\n              children: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                style: {\n                  fontSize: \"30px\",\n                  color: \"#b5b5b5\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this)), gallery.length < 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => galleryUpload.current.click(),\n            className: \"uploadNextImage\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"+ Upload Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 17\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s3(Pictures, \"3sWBAJ8juPAFKXpyw0X1oRBCBME=\");\n\n_c2 = Pictures;\n\nconst Location = props => {\n  _s4();\n\n  // eslint-disable-next-line\n  useEffect(async () => {\n    navigator.geolocation.getCurrentPosition(() => \"\");\n    let data = await getIP();\n\n    if (navigator.geolocation) {\n      props.setLocation(data.data);\n    } else {\n      props.setLocation(data.data);\n    } // eslint-disable-next-line\n\n  }, []);\n  const position = [props.user.lat, props.user.lang];\n  L.Icon.Default.imagePath = \"img/\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        style: {\n          height: \"500px\",\n          width: \"100wh\"\n        },\n        center: position,\n        zoom: 13,\n        scrollWheelZoom: false,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: position,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: [\"We see you \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 26\n            }, this), \" You are here.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s4(Location, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c3 = Location;\nconst steps = [{\n  title: \"Info\",\n  content: (user, confirm, handleInfo, setDate) => /*#__PURE__*/_jsxDEV(Info, {\n    user: user,\n    handleInfo: handleInfo,\n    handleDate: setDate,\n    confirm: confirm\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 7\n  }, this)\n}, {\n  title: \"Pictures\",\n  content: (user, handleGallery, handleProfileimage) => /*#__PURE__*/_jsxDEV(Pictures, {\n    user: user,\n    handleGallery: handleGallery,\n    handleProfileimage: handleProfileimage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 473,\n    columnNumber: 7\n  }, this)\n}, {\n  title: \"Location\",\n  content: (user, setLocation) => /*#__PURE__*/_jsxDEV(Location, {\n    user: user,\n    setLocation: setLocation\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 483,\n    columnNumber: 7\n  }, this)\n}]; // !PARENT COMPONENT\n\nconst CompleteProfile = () => {\n  _s5();\n\n  const [visible, setVisible] = useState(false);\n  const {\n    state,\n    dispatch\n  } = useContext(Context);\n  const [current, setCurrent] = useState(0);\n  let history = useHistory();\n  const [user, setUser] = useState({\n    gender: \"\",\n    interest: \"\",\n    tags: [],\n    birthday: \"\",\n    bio: \"\",\n    profile: \"\",\n    gallery: [],\n    lat: 0,\n    lang: 0,\n    country: \"\",\n    city: \"\",\n    validation: 0\n  });\n\n  const submit = async () => {\n    const res = await stepsAction(state.token, user, dispatch);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      dispatch({\n        type: COMPLETE,\n        payload: {\n          success: true,\n          isCompletinfo: true\n        }\n      });\n      openMessageSuccess(res.message);\n      history.push(\"/home\");\n    } else {\n      openMessageError(res.error);\n    }\n  }; //* SET INFO IN USER STATE\n\n\n  const handleInfo = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setStepOne = data => {\n    setUser({ ...user,\n      tags: data\n    });\n  };\n\n  const setDate = birthdate => {\n    setUser({ ...user,\n      birthday: birthdate\n    });\n  }; // * SET PICTURES IN USER STATE\n\n\n  const handleGallery = gallery => {\n    const files = gallery.map(pic => {\n      return pic.file;\n    });\n    setUser({ ...user,\n      gallery: files\n    });\n  };\n\n  const handleProfileimage = gallery => {\n    const files = gallery.map(pic => {\n      return pic.file;\n    });\n    setUser({ ...user,\n      profile: files\n    });\n  }; // * SET LOCATION IN USER STATE\n\n\n  const setLocation = info => {\n    setUser({ ...user,\n      lat: info.lat,\n      lang: info.lon,\n      country: info.country,\n      city: info.city\n    });\n  }; // * VALIDATE STEPS\n\n\n  const validateStep = step => {\n    if (step === 0) {\n      if (user.gender !== \"\" && user.interest !== \"\" && user.tags.length > 0 && user.birthday !== \"\" && user.bio.length >= 10) return true;\n    } else if (step === 1) {\n      if (user.profile !== \"\" && user.gallery !== \"\" || user.profile !== \"\" && user.gallery === \"\") {\n        return true;\n      }\n    } else if (step === 2) {\n      if (user.city !== \"\" && user.country !== \"\" && user.lat !== \"\" && user.lang !== \"\") return true;\n    }\n\n    return false;\n  };\n\n  const next = () => {\n    if (validateStep(current)) {\n      setUser({ ...user,\n        validation: 0\n      });\n\n      if (current + 1 !== 3) {\n        _message.loading(\"Loading...\", 2);\n\n        openMessageWarning(\"one more ...\");\n      }\n\n      setCurrent(current + 1);\n    } else {\n      setUser({ ...user,\n        validation: 1\n      });\n\n      _message.loading(\"Loading...\", 2);\n\n      openMessageError(current + 1 === 2 ? \"Your must choose at least the profile picture\" : \"You Must Complet Your inðŸ¤ªfo \");\n    }\n  };\n\n  const Logout = async () => {\n    await logoutAction(state.id, dispatch);\n  };\n\n  const prev = () => {\n    setCurrent(current - 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: \"center\",\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"100%\",\n          maxWidth: \"800px\",\n          marginBottom: \"60px\",\n          marginTop: \"0\"\n        },\n        id: \"img\",\n        alt: \"login svg\",\n        src: cupid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          onClick: () => setVisible(true),\n          style: {\n            fontSize: \"0.7rem\"\n          },\n          children: \"Complete profile !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"12px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            onClick: Logout,\n            style: {\n              fontSize: \"0.7rem\"\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n      title: \"Dear, Complete your profile !\",\n      centered: true,\n      footer: null,\n      visible: visible,\n      onCancel: () => setVisible(false),\n      width: \"70%\",\n      style: {\n        height: \"100%\"\n      },\n      className: \"stepsContainer\",\n      children: [/*#__PURE__*/_jsxDEV(_Steps, {\n        current: current,\n        className: \"stepsTitles\",\n        children: steps.map(item => /*#__PURE__*/_jsxDEV(Step, {\n          title: item.title,\n          className: \"stepsTitle\"\n        }, item.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"steps-content\",\n        children: [current === 0 ? steps[current].content(user, setStepOne, handleInfo, setDate) : \"\", current === 1 ? steps[current].content(user, handleGallery, handleProfileimage) : \"\", current === 2 ? steps[current].content(user, setLocation) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"steps-action\",\n        style: {\n          textAlign: \"center\"\n        },\n        children: [current > 0 && /*#__PURE__*/_jsxDEV(_Button, {\n          style: {\n            fontSize: \"10px\",\n            marginLeft: \"8px\"\n          },\n          onClick: () => prev(),\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 13\n        }, this), current === steps.length - 1 && /*#__PURE__*/_jsxDEV(_Button, {\n          style: {\n            fontSize: \"10px\"\n          },\n          type: \"primary\",\n          onClick: () => submit(),\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 13\n        }, this), current < steps.length - 1 && /*#__PURE__*/_jsxDEV(_Button, {\n          style: {\n            fontSize: \"10px\"\n          },\n          type: \"primary\",\n          onClick: () => next(),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s5(CompleteProfile, \"UvXShdCWugQhVQr3vr7siREW2H0=\", false, function () {\n  return [useHistory];\n});\n\n_c4 = CompleteProfile;\nexport default CompleteProfile;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Info\");\n$RefreshReg$(_c2, \"Pictures\");\n$RefreshReg$(_c3, \"Location\");\n$RefreshReg$(_c4, \"CompleteProfile\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Matcha/client/src/pages/CompleteProfile.js"],"names":["React","useState","useEffect","useRef","useCallback","useContext","Map","TileLayer","Marker","Popup","axios","CloseOutlined","PlusOutlined","UserOutlined","DeleteOutlined","Link","useHistory","ImageUploading","stepsAction","logoutAction","Context","L","COMPLETE","openMessageSuccess","openMessageWarning","openMessageError","Step","getIP","ipclient","get","ip","data","getTags","Promise","resolve","reject","then","res","catch","error","useStateCallback","initialState","state","setState","cbRef","setStateCallback","cb","current","Info","props","tags","setTags","options","setOptions","inputVisible","setInputVisible","tag","setTag","originalTags","setOriginalTags","dateFormat","handleTagClick","map","name","t","value","onSearch","searchText","filtered","filter","startsWith","length","onSelect","confirm","removeTag","usr","user","display","flexDirection","justifyContent","alignItems","gender","e","handleInfo","interest","width","index","color","marginBottom","fontSize","borderRadius","divor","padding","boxShadow","background","marginRight","verticalAlign","marginTop","height","birthday","handleDate","border","borderBottom","bio","Pictures","profile","setProfile","gallery","setGallery","g","obj","dataURL","URL","createObjectURL","file","profileUpload","galleryUpload","handleProfileUpload","handleProfileimage","handleGalleryUpload","handleGallery","onImageUpload","onImageUpdate","click","objectFit","onImageRemove","imageList","image","key","position","Location","navigator","geolocation","getCurrentPosition","setLocation","lat","lang","Icon","Default","imagePath","steps","title","content","setDate","CompleteProfile","visible","setVisible","dispatch","setCurrent","history","setUser","country","city","validation","submit","token","loading","success","type","payload","isCompletinfo","message","push","target","setStepOne","birthdate","files","pic","info","lon","validateStep","step","next","Logout","id","prev","maxWidth","cupid","item","textAlign","marginLeft"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IACEC,QADF,EAEEC,SAFF,EAGEC,MAHF,EAIEC,WAJF,EAKEC,UALF,QAMO,OANP;AAOA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,MAAzB,EAAiCC,KAAjC,QAA8C,eAA9C;AACA,OAAO,0BAAP;AACA,OAAO,oCAAP;;AAEA,OAAO,0BAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SACEC,aADF,EAEEC,YAFF,EAGEC,YAHF,EAIEC,cAJF,QAKO,mBALP;AAqBA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,uBAA1C;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,OAAOC,CAAP,MAAc,SAAd;AACA,SAASC,QAAT,QAAyB,wBAAzB;AAEA,SACEC,kBADF,EAEEC,kBAFF,EAGEC,gBAHF,QAIO,yBAJP;;;AAMA,MAAM;AAAEC,EAAAA;AAAF,UAAN,C,CACA;;AACA,MAAMC,KAAK,GAAG,YAAY;AACxB,QAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAAU,sCAAV,CAAvB;AACA,MAAIC,EAAE,GAAGF,QAAQ,CAACG,IAAT,CAAcD,EAAvB;AACA,MAAIC,IAAI,GAAG,MAAMrB,KAAK,CAACmB,GAAN,CAAU,4BAA4BC,EAAtC,CAAjB;AACA,SAAOC,IAAP;AACD,CALD;;AAOA,MAAMC,OAAO,GAAG,YAAY;AAC1B,SAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,UAAMzB,KAAK,CACRmB,GADG,CACC,qCADD,EAEHO,IAFG,CAEGC,GAAD,IAAS;AACbH,MAAAA,OAAO,CAACG,GAAG,CAACN,IAAJ,CAASA,IAAV,CAAP;AACD,KAJG,EAKHO,KALG,CAKIC,KAAD,IAAW;AAChBJ,MAAAA,MAAM,CAACI,KAAD,CAAN;AACD,KAPG,CAAN;AAQD,GATM,CAAP;AAUD,CAXD,C,CAaA;;;AACA,SAASC,gBAAT,CAA0BC,YAA1B,EAAwC;AAAA;;AACtC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB1C,QAAQ,CAACwC,YAAD,CAAlC;AACA,QAAMG,KAAK,GAAGzC,MAAM,CAAC,IAAD,CAApB;AAEA,QAAM0C,gBAAgB,GAAGzC,WAAW,CAAC,CAACsC,KAAD,EAAQI,EAAR,KAAe;AAClDF,IAAAA,KAAK,CAACG,OAAN,GAAgBD,EAAhB;AACAH,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GAHmC,EAGjC,EAHiC,CAApC;AAKAxC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI0C,KAAK,CAACG,OAAV,EAAmB;AACjBH,MAAAA,KAAK,CAACG,OAAN,CAAcL,KAAd;AACAE,MAAAA,KAAK,CAACG,OAAN,GAAgB,IAAhB;AACD;AACF,GALQ,EAKN,CAACL,KAAD,CALM,CAAT;AAOA,SAAO,CAACA,KAAD,EAAQG,gBAAR,CAAP;AACD,C,CACD;;;GAlBSL,gB;;AAmBT,MAAMQ,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACtB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,gBAAgB,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,gBAAgB,CAAC,EAAD,CAA9C;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCtD,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACuD,GAAD,EAAMC,MAAN,IAAgBxD,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACyD,YAAD,EAAeC,eAAf,IAAkC1D,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAM2D,UAAU,GAAG,YAAnB;;AAEA,QAAMC,cAAc,GAAG,MAAM;AAC3BN,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAFD,CATsB,CAYtB;;;AACArD,EAAAA,SAAS,CAAC,YAAY;AACpB,UAAM8B,OAAO,GAAGI,IAAV,CAAgBL,IAAD,IAAU;AAC7B,UAAImB,IAAI,GAAGnB,IAAI,CAAC+B,GAAL,CAAUN,GAAD,IAAS;AAC3B,eAAO,MAAMA,GAAG,CAACO,IAAjB;AACD,OAFU,CAAX;AAGAJ,MAAAA,eAAe,CAACT,IAAD,CAAf;AACAG,MAAAA,UAAU,CACRH,IAAI,CAACY,GAAL,CAAUE,CAAD,IAAO;AACd,eAAO;AAAEC,UAAAA,KAAK,EAAED;AAAT,SAAP;AACD,OAFD,CADQ,CAAV;AAKD,KAVK,CAAN,CADoB,CAYpB;AACD,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAME,QAAQ,GAAIC,UAAD,IAAgB;AAC/B;AACAV,IAAAA,MAAM,CAACU,UAAD,CAAN,CAF+B,CAG/B;;AACA,QAAIC,QAAQ,GAAGV,YAAY,CAACW,MAAb,CAAqBL,CAAD,IAAO;AACxC,UAAIA,CAAC,CAACM,UAAF,CAAaH,UAAb,CAAJ,EAA8B,OAAOH,CAAP;AAC/B,KAFc,CAAf;AAGA,QAAI,CAACG,UAAL,EAAiBC,QAAQ,GAAGV,YAAX;AACjB,QAAIU,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2BH,QAAQ,GAAG,CAACD,UAAD,CAAX;AAC3Bd,IAAAA,UAAU,CACRe,QAAQ,CAACN,GAAT,CAAcE,CAAD,IAAO;AAClB,aAAO;AAAEC,QAAAA,KAAK,EAAED;AAAT,OAAP;AACD,KAFD,CADQ,CAAV;AAKD,GAdD;;AAgBA,QAAMQ,QAAQ,GAAIzC,IAAD,IAAU;AACzB,QAAImB,IAAI,CAACqB,MAAL,IAAe,CAAnB,EAAsB;AACpB,UAAI,CAACrB,IAAI,CAACmB,MAAL,CAAaL,CAAD,IAAOA,CAAC,KAAKjC,IAAzB,EAA+BwC,MAApC,EACEpB,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAUnB,IAAV,CAAD,EAAmBA,IAAD,IAAUkB,KAAK,CAACwB,OAAN,CAAc1C,IAAd,CAA5B,CAAP;AACF0B,MAAAA,MAAM,CAAC,EAAD,CAAN;AACAJ,MAAAA,UAAU,CACRK,YAAY,CAACI,GAAb,CAAkBE,CAAD,IAAO;AACtB,eAAO;AAAEC,UAAAA,KAAK,EAAED;AAAT,SAAP;AACD,OAFD,CADQ,CAAV;AAKD;AACF,GAXD;;AAaA,QAAMU,SAAS,GAAIlB,GAAD,IAAS;AACzB;AACA,QAAImB,GAAG,GAAG1B,KAAK,CAAC2B,IAAN,CAAW1B,IAArB,CAFyB,CAGzB;;AACA,QAAIA,IAAI,GAAGyB,GAAG,CAACN,MAAJ,CAAYL,CAAD,IAAO;AAC3B,UAAIA,CAAC,KAAKR,GAAV,EAAe,OAAOQ,CAAP;AAChB,KAFU,CAAX;AAIAb,IAAAA,OAAO,CAACD,IAAD,EAAQnB,IAAD,IAAUkB,KAAK,CAACwB,OAAN,CAAc1C,IAAd,CAAjB,CAAP;AACD,GATD;;AAWA,sBACE;AAAA,2BACE;AACE,MAAA,MAAM,EAAE,EADV;AAEE,MAAA,KAAK,EAAE;AACL8C,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,aAAa,EAAE,QAFV;AAGLC,QAAAA,cAAc,EAAE,cAHX;AAILC,QAAAA,UAAU,EAAE;AAJP,OAFT;AAQE,MAAA,SAAS,EAAC,eARZ;AAAA,8BAUE;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,cAAM,IAAN;AAAW,UAAA,KAAK,EAAC,QAAjB;AAAA,iCACE,eAAO,KAAP;AACE,YAAA,UAAU,EAAC,QADb;AAEE,YAAA,YAAY,EAAE/B,KAAK,CAAC2B,IAAN,CAAWK,MAF3B;AAGE,YAAA,IAAI,EAAC,QAHP;AAIE,YAAA,QAAQ,EAAGC,CAAD,IAAOjC,KAAK,CAACkC,UAAN,CAAiBD,CAAjB,CAJnB;AAAA,oCAME,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,eAOE,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,eAQE,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAVF,eAwBE;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,cAAM,IAAN;AAAW,UAAA,KAAK,EAAC,UAAjB;AAAA,iCACE,eAAO,KAAP;AACE,YAAA,UAAU,EAAC,QADb;AAEE,YAAA,YAAY,EAAEjC,KAAK,CAAC2B,IAAN,CAAWQ,QAF3B;AAGE,YAAA,IAAI,EAAC,UAHP;AAIE,YAAA,QAAQ,EAAGF,CAAD,IAAOjC,KAAK,CAACkC,UAAN,CAAiBD,CAAjB,CAJnB;AAAA,oCAME,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,eAOE,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,eAQE,eAAO,MAAP;AAAc,cAAA,KAAK,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAxBF,eAsCE;AAAK,QAAA,IAAI,EAAE,EAAX;AAAe,QAAA,SAAS,EAAC,iBAAzB;AAA2C,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE;AAAT,SAAlD;AAAA,gCACE,cAAM,IAAN;AAAW,UAAA,KAAK,EAAC,MAAjB;AAAA,qBACGpC,KAAK,CAAC2B,IAAN,CAAW1B,IAAX,CAAgBY,GAAhB,CAAoB,CAACN,GAAD,EAAM8B,KAAN,kBACnB;AAEE,YAAA,SAAS,EAAC,MAFZ;AAGE,YAAA,KAAK,EAAE,GAHT;AAIE,YAAA,KAAK,EAAE;AACLC,cAAAA,KAAK,EAAE,MADF;AAELC,cAAAA,YAAY,EAAE,MAFT;AAGLC,cAAAA,QAAQ,EAAE,MAHL;AAILC,cAAAA,YAAY,EAAE,KAJT;AAKLC,cAAAA,KAAK,EAAE,OALF;AAMLC,cAAAA,OAAO,EAAE,UANJ;AAOLC,cAAAA,SAAS,EAAE,mCAPN;AAQLC,cAAAA,UAAU,EAAE;AARP,aAJT;AAcE,YAAA,OAAO,EAAE,MAAMpB,SAAS,CAAClB,GAAD,CAd1B;AAeE,YAAA,SAAS,eAAE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,oBAfb;AAgBE,YAAA,QAAQ,EAAE,IAhBZ;AAAA,sBAkBGA;AAlBH,aACOA,GADP;AAAA;AAAA;AAAA;AAAA,kBADD,CADH,EAuBGF,YAAY,iBACX;AACE,YAAA,OAAO,EAAEF,OADX;AAEE,YAAA,KAAK,EAAE;AACLiC,cAAAA,KAAK,EAAE,OADF;AAELU,cAAAA,WAAW,EAAE,KAFR;AAGLC,cAAAA,aAAa,EAAE,KAHV;AAILC,cAAAA,SAAS,EAAE,KAJN;AAKLC,cAAAA,MAAM,EAAE;AALH,aAFT;AASE,YAAA,KAAK,EAAE1C,GATT;AAUE,YAAA,QAAQ,EAAEgB,QAVZ;AAWE,YAAA,QAAQ,EAAEN,QAXZ;AAYE,YAAA,WAAW,EAAC;AAZd;AAAA;AAAA;AAAA;AAAA,kBAxBJ,EAuCG,CAACZ,YAAD,iBACC;AAAK,YAAA,SAAS,EAAC,eAAf;AAA+B,YAAA,OAAO,EAAEO,cAAxC;AAAA,oCACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,oBADF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA8CE;AAAK,UAAA,EAAE,EAAE,EAAT;AAAa,UAAA,IAAI,EAAE,EAAnB;AAAA,iCACE,cAAM,IAAN;AAAA,mCACE;AACE,cAAA,IAAI,EAAC,WADP;AAEE,cAAA,KAAK,EAAEZ,KAAK,CAAC2B,IAAN,CAAWuB,QAFpB;AAGE,cAAA,MAAM,EAAEvC,UAHV;AAIE,cAAA,QAAQ,EAAGK,KAAD,IAAW;AACnB,oBAAIA,KAAJ,EAAWhB,KAAK,CAACmD,UAAN,CAAiBnC,KAAjB;AACZ,eANH;AAOE,cAAA,WAAW,EAAC,WAPd;AAQE,cAAA,KAAK,EAAE;AACLoB,gBAAAA,KAAK,EAAE,MADF;AAELa,gBAAAA,MAAM,EAAE,MAFH;AAGLT,gBAAAA,QAAQ,EAAE,QAHL;AAILY,gBAAAA,MAAM,EAAE,MAJH;AAKLC,gBAAAA,YAAY,EAAE,mBALT;AAMLX,gBAAAA,KAAK,EAAE;AANF;AART;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA9CF,eAmEE,cAAM,IAAN;AAAW,UAAA,KAAK,EAAE1C,KAAK,CAAC2B,IAAN,CAAW2B,GAA7B;AAAA,iCACE,eAAO,QAAP;AACE,YAAA,IAAI,EAAE,CADR;AAEE,YAAA,KAAK,EAAEtD,KAAK,CAAC2B,IAAN,CAAW2B,GAFpB;AAGE,YAAA,IAAI,EAAC,KAHP;AAIE,YAAA,QAAQ,EAAGrB,CAAD,IAAOjC,KAAK,CAACkC,UAAN,CAAiBD,CAAjB,CAJnB;AAKE,YAAA,UAAU,MALZ;AAME,YAAA,SAAS,MANX;AAOE,YAAA,SAAS,EAAE,GAPb;AAQE,YAAA,WAAW,EAAC;AARd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAnEF;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA2HD,CA/LD;;IAAMlC,I;UACoBR,gB,EACMA,gB;;;KAF1BQ,I;;AAiMN,MAAMwD,QAAQ,GAAIvD,KAAD,IAAW;AAAA;;AAC1B,QAAM,CAACwD,OAAD,EAAUC,UAAV,IAAwBzG,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM,CAAC0G,OAAD,EAAUC,UAAV,IAAwB3G,QAAQ,CAAC,EAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACyG,OAAO,CAACpC,MAAT,IAAmBtB,KAAK,CAAC2B,IAAN,CAAW+B,OAAX,CAAmBpC,MAA1C,EACEqC,UAAU,CACR3D,KAAK,CAAC2B,IAAN,CAAW+B,OAAX,CAAmB7C,GAAnB,CAAwB+C,CAAD,IAAO;AAC5B,UAAIC,GAAG,GAAG;AACRC,QAAAA,OAAO,EAAEC,GAAG,CAACC,eAAJ,CAAoBJ,CAApB,CADD;AAERK,QAAAA,IAAI,EAAEL;AAFE,OAAV;AAIA,aAAOC,GAAP;AACD,KAND,CADQ,CAAV;AASF,QAAIL,OAAO,KAAK,EAAZ,IAAkBxD,KAAK,CAAC2B,IAAN,CAAW6B,OAAX,KAAuB,EAA7C,EACEC,UAAU,CAACM,GAAG,CAACC,eAAJ,CAAoBhE,KAAK,CAAC2B,IAAN,CAAW6B,OAAX,CAAmB,CAAnB,CAApB,CAAD,CAAV,CAZY,CAad;AACD,GAdQ,EAcN,EAdM,CAAT;AAgBA,QAAMU,aAAa,GAAGhH,MAAM,CAAC,IAAD,CAA5B;AACA,QAAMiH,aAAa,GAAGjH,MAAM,CAAC,IAAD,CAA5B;;AAEA,QAAMkH,mBAAmB,GAAInC,CAAD,IAAO;AACjCjC,IAAAA,KAAK,CAACqE,kBAAN,CAAyBpC,CAAzB;AACAwB,IAAAA,UAAU,CAACxB,CAAC,CAAC,CAAD,CAAD,CAAK6B,OAAN,CAAV;AACD,GAHD;;AAIA,QAAMQ,mBAAmB,GAAIrC,CAAD,IAAO;AACjC0B,IAAAA,UAAU,CAAC1B,CAAD,CAAV;AACAjC,IAAAA,KAAK,CAACuE,aAAN,CAAoBtC,CAApB;AACD,GAHD;;AAKA,sBACE;AAAA,4BAEE,QAAC,cAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,QAAQ,EAAEmC,mBAFZ;AAGE,MAAA,SAAS,EAAE,CAHb;AAAA,gBAKG,CAAC;AAAEI,QAAAA,aAAF;AAAiBC,QAAAA;AAAjB,OAAD,kBACC;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,+BACE;AACE,UAAA,GAAG,EAAEP,aADP;AAEE,UAAA,KAAK,EAAE;AAAEtC,YAAAA,OAAO,EAAE;AAAX,WAFT;AAGE,UAAA,OAAO,EAAE4B,OAAO,KAAK,EAAZ,GAAiBiB,aAAjB,GAAiCA,aAH5C,CAIE;;AAJF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,YAFF,eAkBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACE;AAAA,kBACGjB,OAAO,KAAK,EAAZ,gBACC;AACE,UAAA,IAAI,EAAE,GADR;AAEE,UAAA,IAAI,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,kBAFR;AAGE,UAAA,KAAK,EAAE;AAAEpB,YAAAA,KAAK,EAAE,MAAT;AAAiBa,YAAAA,MAAM,EAAE;AAAzB,WAHT;AAIE,UAAA,OAAO,EAAE,MAAMiB,aAAa,CAACpE,OAAd,CAAsB4E,KAAtB;AAJjB;AAAA;AAAA;AAAA;AAAA,gBADD,gBAQC;AACE,UAAA,OAAO,EAAE,MAAMR,aAAa,CAACpE,OAAd,CAAsB4E,KAAtB,EADjB;AAEE,UAAA,GAAG,EAAElB,OAFP;AAGE,UAAA,GAAG,EAAC,KAHN;AAIE,UAAA,KAAK,EAAE;AACLpB,YAAAA,KAAK,EAAE,MADF;AAELa,YAAAA,MAAM,EAAE,MAFH;AAGLR,YAAAA,YAAY,EAAE,KAHT;AAILkC,YAAAA,SAAS,EAAE;AAJN;AAJT;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAlBF,eA2CE,QAAC,cAAD;AACE,MAAA,QAAQ,MADV;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,KAAK,EAAEjB,OAHT;AAIE,MAAA,QAAQ,EAAEY,mBAJZ;AAKE,MAAA,SAAS,EAAE,CALb;AAAA,gBAOG,CAAC;AAAEE,QAAAA,aAAF;AAAiBI,QAAAA,aAAjB;AAAgCC,QAAAA;AAAhC,OAAD;AAAA;AACC;AACA;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,gCACE;AACE,UAAA,GAAG,EAAEV,aADP;AAEE,UAAA,KAAK,EAAE;AAAEvC,YAAAA,OAAO,EAAE;AAAX,WAFT;AAGE,UAAA,OAAO,EAAE4C,aAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,qBACGK,SAAS,CAAChE,GAAV,CAAc,CAACiE,KAAD,EAAQC,GAAR,kBACb;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AACE,cAAA,GAAG,EAAED,KAAK,CAAChB,OADb;AAEE,cAAA,GAAG,EAAC,KAFN;AAGE,cAAA,KAAK,EAAE;AACL1B,gBAAAA,KAAK,EAAE,MADF;AAELa,gBAAAA,MAAM,EAAE,MAFH;AAGL+B,gBAAAA,QAAQ,EAAE;AAHL;AAHT;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE;AAAK,cAAA,SAAS,EAAC,WAAf;AAA2B,cAAA,OAAO,EAAE,MAAMJ,aAAa,CAACG,GAAD,CAAvD;AAAA,qCACE,QAAC,cAAD;AACE,gBAAA,KAAK,EAAE;AAAEvC,kBAAAA,QAAQ,EAAE,MAAZ;AAAoBF,kBAAAA,KAAK,EAAE;AAA3B;AADT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA,aAA0ByC,GAA1B;AAAA;AAAA;AAAA;AAAA,kBADD,CADH,EAmBGrB,OAAO,CAACpC,MAAR,GAAiB,CAAjB,gBACC;AACE,YAAA,OAAO,EAAE,MAAM6C,aAAa,CAACrE,OAAd,CAAsB4E,KAAtB,EADjB;AAEE,YAAA,SAAS,EAAC,iBAFZ;AAAA,mCAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,kBADD,GAQC,EA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,YA3CF;AAAA,kBADF;AAiGD,CAlID;;IAAMnB,Q;;MAAAA,Q;;AAoIN,MAAM0B,QAAQ,GAAIjF,KAAD,IAAW;AAAA;;AAC1B;AACA/C,EAAAA,SAAS,CAAC,YAAY;AACpBiI,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,MAAM,EAA/C;AACA,QAAItG,IAAI,GAAG,MAAMJ,KAAK,EAAtB;;AAEA,QAAIwG,SAAS,CAACC,WAAd,EAA2B;AACzBnF,MAAAA,KAAK,CAACqF,WAAN,CAAkBvG,IAAI,CAACA,IAAvB;AACD,KAFD,MAEO;AACLkB,MAAAA,KAAK,CAACqF,WAAN,CAAkBvG,IAAI,CAACA,IAAvB;AACD,KARmB,CASpB;;AACD,GAVQ,EAUN,EAVM,CAAT;AAYA,QAAMkG,QAAQ,GAAG,CAAChF,KAAK,CAAC2B,IAAN,CAAW2D,GAAZ,EAAiBtF,KAAK,CAAC2B,IAAN,CAAW4D,IAA5B,CAAjB;AAEAnH,EAAAA,CAAC,CAACoH,IAAF,CAAOC,OAAP,CAAeC,SAAf,GAA2B,MAA3B;AAEA,sBACE;AAAA,2BACE,cAAM,IAAN;AAAA,6BACE,QAAC,GAAD;AACE,QAAA,KAAK,EAAE;AAAEzC,UAAAA,MAAM,EAAE,OAAV;AAAmBb,UAAAA,KAAK,EAAE;AAA1B,SADT;AAEE,QAAA,MAAM,EAAE4C,QAFV;AAGE,QAAA,IAAI,EAAE,EAHR;AAIE,QAAA,eAAe,EAAE,KAJnB;AAAA,gCAME,QAAC,SAAD;AACE,UAAA,WAAW,EAAC,0EADd;AAEE,UAAA,GAAG,EAAC;AAFN;AAAA;AAAA;AAAA;AAAA,gBANF,eAUE,QAAC,MAAD;AAAQ,UAAA,QAAQ,EAAEA,QAAlB;AAAA,iCACE,QAAC,KAAD;AAAA,mDACa;AAAA;AAAA;AAAA;AAAA,oBADb;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAsBD,CAxCD;;IAAMC,Q;;MAAAA,Q;AA0CN,MAAMU,KAAK,GAAG,CACZ;AACEC,EAAAA,KAAK,EAAE,MADT;AAEEC,EAAAA,OAAO,EAAE,CAAClE,IAAD,EAAOH,OAAP,EAAgBU,UAAhB,EAA4B4D,OAA5B,kBACP,QAAC,IAAD;AACE,IAAA,IAAI,EAAEnE,IADR;AAEE,IAAA,UAAU,EAAEO,UAFd;AAGE,IAAA,UAAU,EAAE4D,OAHd;AAIE,IAAA,OAAO,EAAEtE;AAJX;AAAA;AAAA;AAAA;AAAA;AAHJ,CADY,EAYZ;AACEoE,EAAAA,KAAK,EAAE,UADT;AAEEC,EAAAA,OAAO,EAAE,CAAClE,IAAD,EAAO4C,aAAP,EAAsBF,kBAAtB,kBACP,QAAC,QAAD;AACE,IAAA,IAAI,EAAE1C,IADR;AAEE,IAAA,aAAa,EAAE4C,aAFjB;AAGE,IAAA,kBAAkB,EAAEF;AAHtB;AAAA;AAAA;AAAA;AAAA;AAHJ,CAZY,EAsBZ;AACEuB,EAAAA,KAAK,EAAE,UADT;AAEEC,EAAAA,OAAO,EAAE,CAAClE,IAAD,EAAO0D,WAAP,kBACP,QAAC,QAAD;AAAU,IAAA,IAAI,EAAE1D,IAAhB;AAAsB,IAAA,WAAW,EAAE0D;AAAnC;AAAA;AAAA;AAAA;AAAA;AAHJ,CAtBY,CAAd,C,CA6BA;;AACA,MAAMU,eAAe,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBjJ,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAEyC,IAAAA,KAAF;AAASyG,IAAAA;AAAT,MAAsB9I,UAAU,CAACe,OAAD,CAAtC;AACA,QAAM,CAAC2B,OAAD,EAAUqG,UAAV,IAAwBnJ,QAAQ,CAAC,CAAD,CAAtC;AACA,MAAIoJ,OAAO,GAAGrI,UAAU,EAAxB;AACA,QAAM,CAAC4D,IAAD,EAAO0E,OAAP,IAAkBrJ,QAAQ,CAAC;AAC/BgF,IAAAA,MAAM,EAAE,EADuB;AAE/BG,IAAAA,QAAQ,EAAE,EAFqB;AAG/BlC,IAAAA,IAAI,EAAE,EAHyB;AAI/BiD,IAAAA,QAAQ,EAAE,EAJqB;AAK/BI,IAAAA,GAAG,EAAE,EAL0B;AAM/BE,IAAAA,OAAO,EAAE,EANsB;AAO/BE,IAAAA,OAAO,EAAE,EAPsB;AAQ/B4B,IAAAA,GAAG,EAAE,CAR0B;AAS/BC,IAAAA,IAAI,EAAE,CATyB;AAU/Be,IAAAA,OAAO,EAAE,EAVsB;AAW/BC,IAAAA,IAAI,EAAE,EAXyB;AAY/BC,IAAAA,UAAU,EAAE;AAZmB,GAAD,CAAhC;;AAeA,QAAMC,MAAM,GAAG,YAAY;AACzB,UAAMrH,GAAG,GAAG,MAAMnB,WAAW,CAACwB,KAAK,CAACiH,KAAP,EAAc/E,IAAd,EAAoBuE,QAApB,CAA7B;;AAEA,aAAQS,OAAR,CAAgB,YAAhB,EAA8B,CAA9B;;AACA,QAAIvH,GAAG,CAACwH,OAAR,EAAiB;AACfV,MAAAA,QAAQ,CAAC;AACPW,QAAAA,IAAI,EAAExI,QADC;AAEPyI,QAAAA,OAAO,EAAE;AACPF,UAAAA,OAAO,EAAE,IADF;AAEPG,UAAAA,aAAa,EAAE;AAFR;AAFF,OAAD,CAAR;AAOAzI,MAAAA,kBAAkB,CAACc,GAAG,CAAC4H,OAAL,CAAlB;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,OAAb;AACD,KAVD,MAUO;AACLzI,MAAAA,gBAAgB,CAACY,GAAG,CAACE,KAAL,CAAhB;AACD;AACF,GAjBD,CApB4B,CAsC5B;;;AACA,QAAM4C,UAAU,GAAID,CAAD,IAAO;AACxBoE,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAEN,OAACM,CAAC,CAACiF,MAAF,CAASpG,IAAV,GAAiBmB,CAAC,CAACiF,MAAF,CAASlG;AAFpB,KAAD,CAAP;AAID,GALD;;AAMA,QAAMmG,UAAU,GAAIrI,IAAD,IAAU;AAC3BuH,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAEN1B,MAAAA,IAAI,EAAEnB;AAFA,KAAD,CAAP;AAID,GALD;;AAMA,QAAMgH,OAAO,GAAIsB,SAAD,IAAe;AAC7Bf,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAENuB,MAAAA,QAAQ,EAAEkE;AAFJ,KAAD,CAAP;AAID,GALD,CAnD4B,CAyD5B;;;AACA,QAAM7C,aAAa,GAAIb,OAAD,IAAa;AACjC,UAAM2D,KAAK,GAAG3D,OAAO,CAAC7C,GAAR,CAAayG,GAAD,IAAS;AACjC,aAAOA,GAAG,CAACrD,IAAX;AACD,KAFa,CAAd;AAGAoC,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAEN+B,MAAAA,OAAO,EAAE2D;AAFH,KAAD,CAAP;AAID,GARD;;AASA,QAAMhD,kBAAkB,GAAIX,OAAD,IAAa;AACtC,UAAM2D,KAAK,GAAG3D,OAAO,CAAC7C,GAAR,CAAayG,GAAD,IAAS;AACjC,aAAOA,GAAG,CAACrD,IAAX;AACD,KAFa,CAAd;AAGAoC,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAEN6B,MAAAA,OAAO,EAAE6D;AAFH,KAAD,CAAP;AAID,GARD,CAnE4B,CA4E5B;;;AACA,QAAMhC,WAAW,GAAIkC,IAAD,IAAU;AAC5BlB,IAAAA,OAAO,CAAC,EACN,GAAG1E,IADG;AAEN2D,MAAAA,GAAG,EAAEiC,IAAI,CAACjC,GAFJ;AAGNC,MAAAA,IAAI,EAAEgC,IAAI,CAACC,GAHL;AAINlB,MAAAA,OAAO,EAAEiB,IAAI,CAACjB,OAJR;AAKNC,MAAAA,IAAI,EAAEgB,IAAI,CAAChB;AALL,KAAD,CAAP;AAOD,GARD,CA7E4B,CAuF5B;;;AACA,QAAMkB,YAAY,GAAIC,IAAD,IAAU;AAC7B,QAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,UACE/F,IAAI,CAACK,MAAL,KAAgB,EAAhB,IACAL,IAAI,CAACQ,QAAL,KAAkB,EADlB,IAEAR,IAAI,CAAC1B,IAAL,CAAUqB,MAAV,GAAmB,CAFnB,IAGAK,IAAI,CAACuB,QAAL,KAAkB,EAHlB,IAIAvB,IAAI,CAAC2B,GAAL,CAAShC,MAAT,IAAmB,EALrB,EAOE,OAAO,IAAP;AACH,KATD,MASO,IAAIoG,IAAI,KAAK,CAAb,EAAgB;AACrB,UACG/F,IAAI,CAAC6B,OAAL,KAAiB,EAAjB,IAAuB7B,IAAI,CAAC+B,OAAL,KAAiB,EAAzC,IACC/B,IAAI,CAAC6B,OAAL,KAAiB,EAAjB,IAAuB7B,IAAI,CAAC+B,OAAL,KAAiB,EAF3C,EAGE;AACA,eAAO,IAAP;AACD;AACF,KAPM,MAOA,IAAIgE,IAAI,KAAK,CAAb,EAAgB;AACrB,UACE/F,IAAI,CAAC4E,IAAL,KAAc,EAAd,IACA5E,IAAI,CAAC2E,OAAL,KAAiB,EADjB,IAEA3E,IAAI,CAAC2D,GAAL,KAAa,EAFb,IAGA3D,IAAI,CAAC4D,IAAL,KAAc,EAJhB,EAME,OAAO,IAAP;AACH;;AACD,WAAO,KAAP;AACD,GA3BD;;AA6BA,QAAMoC,IAAI,GAAG,MAAM;AACjB,QAAIF,YAAY,CAAC3H,OAAD,CAAhB,EAA2B;AACzBuG,MAAAA,OAAO,CAAC,EAAE,GAAG1E,IAAL;AAAW6E,QAAAA,UAAU,EAAE;AAAvB,OAAD,CAAP;;AACA,UAAI1G,OAAO,GAAG,CAAV,KAAgB,CAApB,EAAuB;AACrB,iBAAQ6G,OAAR,CAAgB,YAAhB,EAA8B,CAA9B;;AACApI,QAAAA,kBAAkB,CAAC,cAAD,CAAlB;AACD;;AAED4H,MAAAA,UAAU,CAACrG,OAAO,GAAG,CAAX,CAAV;AACD,KARD,MAQO;AACLuG,MAAAA,OAAO,CAAC,EAAE,GAAG1E,IAAL;AAAW6E,QAAAA,UAAU,EAAE;AAAvB,OAAD,CAAP;;AACA,eAAQG,OAAR,CAAgB,YAAhB,EAA8B,CAA9B;;AACAnI,MAAAA,gBAAgB,CACdsB,OAAO,GAAG,CAAV,KAAgB,CAAhB,GACI,+CADJ,GAEI,+BAHU,CAAhB;AAKD;AACF,GAlBD;;AAmBA,QAAM8H,MAAM,GAAG,YAAY;AACzB,UAAM1J,YAAY,CAACuB,KAAK,CAACoI,EAAP,EAAW3B,QAAX,CAAlB;AACD,GAFD;;AAGA,QAAM4B,IAAI,GAAG,MAAM;AACjB3B,IAAAA,UAAU,CAACrG,OAAO,GAAG,CAAX,CAAV;AACD,GAFD;;AAIA,sBACE;AAAA,4BACE;AACE,MAAA,KAAK,EAAE;AACLiC,QAAAA,UAAU,EAAE,QADP;AAELkB,QAAAA,MAAM,EAAE,MAFH;AAGLrB,QAAAA,OAAO,EAAE,MAHJ;AAILE,QAAAA,cAAc,EAAE,QAJX;AAKLD,QAAAA,aAAa,EAAE;AALV,OADT;AAAA,8BASE;AACE,QAAA,KAAK,EAAE;AACLO,UAAAA,KAAK,EAAE,MADF;AAEL2F,UAAAA,QAAQ,EAAE,OAFL;AAGLxF,UAAAA,YAAY,EAAE,MAHT;AAILS,UAAAA,SAAS,EAAE;AAJN,SADT;AAOE,QAAA,EAAE,EAAC,KAPL;AAQE,QAAA,GAAG,EAAC,WARN;AASE,QAAA,GAAG,EAAEgF;AATP;AAAA;AAAA;AAAA;AAAA,cATF,eAoBE;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,OAAO,EAAE,MAAM/B,UAAU,CAAC,IAAD,CAF3B;AAGE,UAAA,KAAK,EAAE;AAAEzD,YAAAA,QAAQ,EAAE;AAAZ,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cApBF,eA6BE;AAAK,QAAA,KAAK,EAAE;AAAEQ,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA,kCACE;AACE,YAAA,IAAI,EAAC,SADP;AAEE,YAAA,OAAO,EAAE4E,MAFX;AAGE,YAAA,KAAK,EAAE;AAAEpF,cAAAA,QAAQ,EAAE;AAAZ,aAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAOY,GAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA7BF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eA0CE;AACE,MAAA,KAAK,EAAC,+BADR;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,MAAM,EAAE,IAHV;AAIE,MAAA,OAAO,EAAEwD,OAJX;AAKE,MAAA,QAAQ,EAAE,MAAMC,UAAU,CAAC,KAAD,CAL5B;AAME,MAAA,KAAK,EAAC,KANR;AAOE,MAAA,KAAK,EAAE;AAAEhD,QAAAA,MAAM,EAAE;AAAV,OAPT;AAQE,MAAA,SAAS,EAAC,gBARZ;AAAA,8BAUE;AAAO,QAAA,OAAO,EAAEnD,OAAhB;AAAyB,QAAA,SAAS,EAAC,aAAnC;AAAA,kBACG6F,KAAK,CAAC9E,GAAN,CAAWoH,IAAD,iBACT,QAAC,IAAD;AAAuB,UAAA,KAAK,EAAEA,IAAI,CAACrC,KAAnC;AAA0C,UAAA,SAAS,EAAC;AAApD,WAAWqC,IAAI,CAACrC,KAAhB;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cAVF,eAeE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,mBACG9F,OAAO,KAAK,CAAZ,GACG6F,KAAK,CAAC7F,OAAD,CAAL,CAAe+F,OAAf,CAAuBlE,IAAvB,EAA6BwF,UAA7B,EAAyCjF,UAAzC,EAAqD4D,OAArD,CADH,GAEG,EAHN,EAIGhG,OAAO,KAAK,CAAZ,GACG6F,KAAK,CAAC7F,OAAD,CAAL,CAAe+F,OAAf,CAAuBlE,IAAvB,EAA6B4C,aAA7B,EAA4CF,kBAA5C,CADH,GAEG,EANN,EAOGvE,OAAO,KAAK,CAAZ,GAAgB6F,KAAK,CAAC7F,OAAD,CAAL,CAAe+F,OAAf,CAAuBlE,IAAvB,EAA6B0D,WAA7B,CAAhB,GAA4D,EAP/D;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,eAyBE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAE;AAAE6C,UAAAA,SAAS,EAAE;AAAb,SAArC;AAAA,mBACGpI,OAAO,GAAG,CAAV,iBACC;AACE,UAAA,KAAK,EAAE;AAAE0C,YAAAA,QAAQ,EAAE,MAAZ;AAAoB2F,YAAAA,UAAU,EAAE;AAAhC,WADT;AAEE,UAAA,OAAO,EAAE,MAAML,IAAI,EAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EASGhI,OAAO,KAAK6F,KAAK,CAACrE,MAAN,GAAe,CAA3B,iBACC;AACE,UAAA,KAAK,EAAE;AAAEkB,YAAAA,QAAQ,EAAE;AAAZ,WADT;AAEE,UAAA,IAAI,EAAC,SAFP;AAGE,UAAA,OAAO,EAAE,MAAMiE,MAAM,EAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,EAkBG3G,OAAO,GAAG6F,KAAK,CAACrE,MAAN,GAAe,CAAzB,iBACC;AACE,UAAA,KAAK,EAAE;AAAEkB,YAAAA,QAAQ,EAAE;AAAZ,WADT;AAEE,UAAA,IAAI,EAAC,SAFP;AAGE,UAAA,OAAO,EAAE,MAAMmF,IAAI,EAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,YA1CF;AAAA,kBADF;AAmGD,CAlPD;;IAAM5B,e;UAIUhI,U;;;MAJVgI,e;AAoPN,eAAeA,eAAf","sourcesContent":["import React, {\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useCallback,\r\n  useContext,\r\n} from \"react\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"react-leaflet-search/css/index.css\";\r\nimport cupid from \"../assets/images/Cupid.svg\";\r\nimport \"../assets/css/steps.less\";\r\nimport axios from \"axios\";\r\n// import { Logout } from \"../helper/Verifications\";\r\nimport {\r\n  CloseOutlined,\r\n  PlusOutlined,\r\n  UserOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  Steps,\r\n  Button,\r\n  message,\r\n  Form,\r\n  Row,\r\n  Input,\r\n  DatePicker,\r\n  Avatar,\r\n  Modal,\r\n  Radio,\r\n  Tag,\r\n  AutoComplete,\r\n  Col,\r\n} from \"antd\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport ImageUploading from \"react-images-uploading\";\r\nimport { stepsAction, logoutAction } from \"../actions/userAction\";\r\nimport { Context } from \"../Contexts/Context\";\r\nimport L from \"leaflet\";\r\nimport { COMPLETE } from \"../actions/actionTypes\";\r\n\r\nimport {\r\n  openMessageSuccess,\r\n  openMessageWarning,\r\n  openMessageError,\r\n} from \"../helper/Verifications\";\r\n\r\nconst { Step } = Steps;\r\n// ?GET IP AND DATA FOR LOCALISATION\r\nconst getIP = async () => {\r\n  const ipclient = await axios.get(\"https://api64.ipify.org/?format=json\");\r\n  let ip = ipclient.data.ip;\r\n  let data = await axios.get(\"http://ip-api.com/json/\" + ip);\r\n  return data;\r\n};\r\n\r\nconst getTags = async () => {\r\n  return new Promise(async (resolve, reject) => {\r\n    await axios\r\n      .get(\"http://localhost:3001/api/tags/list\")\r\n      .then((res) => {\r\n        resolve(res.data.data);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n};\r\n\r\n// ?USE CALLBACK FOR ARRAYS TAGS\r\nfunction useStateCallback(initialState) {\r\n  const [state, setState] = useState(initialState);\r\n  const cbRef = useRef(null);\r\n\r\n  const setStateCallback = useCallback((state, cb) => {\r\n    cbRef.current = cb;\r\n    setState(state);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (cbRef.current) {\r\n      cbRef.current(state);\r\n      cbRef.current = null;\r\n    }\r\n  }, [state]);\r\n\r\n  return [state, setStateCallback];\r\n}\r\n// * INFO COMPONNENT\r\nconst Info = (props) => {\r\n  const [tags, setTags] = useStateCallback([]);\r\n  const [options, setOptions] = useStateCallback([]);\r\n  const [inputVisible, setInputVisible] = useState(false);\r\n  const [tag, setTag] = useState(\"\");\r\n  const [originalTags, setOriginalTags] = useState([]);\r\n\r\n  const dateFormat = \"YYYY-MM-DD\";\r\n\r\n  const handleTagClick = () => {\r\n    setInputVisible(true);\r\n  };\r\n  // eslint-disable-next-line\r\n  useEffect(async () => {\r\n    await getTags().then((data) => {\r\n      let tags = data.map((tag) => {\r\n        return \"#\" + tag.name;\r\n      });\r\n      setOriginalTags(tags);\r\n      setOptions(\r\n        tags.map((t) => {\r\n          return { value: t };\r\n        })\r\n      );\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const onSearch = (searchText) => {\r\n    // eslint-disable-next-line\r\n    setTag(searchText);\r\n    // eslint-disable-next-line\r\n    let filtered = originalTags.filter((t) => {\r\n      if (t.startsWith(searchText)) return t;\r\n    });\r\n    if (!searchText) filtered = originalTags;\r\n    if (filtered.length === 0) filtered = [searchText];\r\n    setOptions(\r\n      filtered.map((t) => {\r\n        return { value: t };\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSelect = (data) => {\r\n    if (tags.length <= 4) {\r\n      if (!tags.filter((t) => t === data).length)\r\n        setTags([...tags, data], (data) => props.confirm(data));\r\n      setTag(\"\");\r\n      setOptions(\r\n        originalTags.map((t) => {\r\n          return { value: t };\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const removeTag = (tag) => {\r\n    // eslint-disable-next-line\r\n    let usr = props.user.tags;\r\n    // eslint-disable-next-line\r\n    let tags = usr.filter((t) => {\r\n      if (t !== tag) return t;\r\n    });\r\n\r\n    setTags(tags, (data) => props.confirm(data));\r\n  };\r\n\r\n  return (\r\n    <Form>\r\n      <Row\r\n        gutter={22}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n        }}\r\n        className=\"infoContainer\"\r\n      >\r\n        <Col span={24}>\r\n          <Form.Item label=\"Gender\">\r\n            <Radio.Group\r\n              optionType=\"button\"\r\n              defaultValue={props.user.gender}\r\n              name=\"gender\"\r\n              onChange={(e) => props.handleInfo(e)}\r\n            >\r\n              <Radio.Button value=\"Male\">Male</Radio.Button>\r\n              <Radio.Button value=\"Female\">Female</Radio.Button>\r\n              <Radio.Button value=\"Other\">Other</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={24}>\r\n          <Form.Item label=\"Interest\">\r\n            <Radio.Group\r\n              optionType=\"button\"\r\n              defaultValue={props.user.interest}\r\n              name=\"interest\"\r\n              onChange={(e) => props.handleInfo(e)}\r\n            >\r\n              <Radio.Button value=\"Male\">Male</Radio.Button>\r\n              <Radio.Button value=\"Female\">Female</Radio.Button>\r\n              <Radio.Button value=\"Other\">Other</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={24} className=\"inputsContainer\" style={{ width: \"60%\" }}>\r\n          <Form.Item label=\"Tags\">\r\n            {props.user.tags.map((tag, index) => (\r\n              <Tag\r\n                key={tag}\r\n                className=\"tags\"\r\n                width={0.5}\r\n                style={{\r\n                  color: \"#fff\",\r\n                  marginBottom: \"15px\",\r\n                  fontSize: \"15px\",\r\n                  borderRadius: \"6px\",\r\n                  divor: \"white\",\r\n                  padding: \"5px 13px\",\r\n                  boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\r\n                  background: \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\",\r\n                }}\r\n                onClose={() => removeTag(tag)}\r\n                closeIcon={<CloseOutlined />}\r\n                closable={true}\r\n              >\r\n                {tag}\r\n              </Tag>\r\n            ))}\r\n            {inputVisible && (\r\n              <AutoComplete\r\n                options={options}\r\n                style={{\r\n                  width: \"110px\",\r\n                  marginRight: \"8px\",\r\n                  verticalAlign: \"top\",\r\n                  marginTop: \"2px\",\r\n                  height: \"30px\",\r\n                }}\r\n                value={tag}\r\n                onSelect={onSelect}\r\n                onSearch={onSearch}\r\n                placeholder=\"Add new tag\"\r\n              />\r\n            )}\r\n            {!inputVisible && (\r\n              <Tag className=\"site-tag-plus\" onClick={handleTagClick}>\r\n                <PlusOutlined /> New Tag\r\n              </Tag>\r\n            )}\r\n          </Form.Item>\r\n          <Col md={12} span={24}>\r\n            <Form.Item>\r\n              <DatePicker\r\n                name=\"birthdate\"\r\n                value={props.user.birthday}\r\n                format={dateFormat}\r\n                onChange={(value) => {\r\n                  if (value) props.handleDate(value);\r\n                }}\r\n                placeholder=\"Birthdate\"\r\n                style={{\r\n                  width: \"100%\",\r\n                  height: \"38px\",\r\n                  fontSize: \"0.8rem\",\r\n                  border: \"none\",\r\n                  borderBottom: \"2px solid #d9d9d9\",\r\n                  divor: \"black\",\r\n                }}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Form.Item value={props.user.bio}>\r\n            <Input.TextArea\r\n              rows={4}\r\n              value={props.user.bio}\r\n              name=\"bio\"\r\n              onChange={(e) => props.handleInfo(e)}\r\n              allowClear\r\n              showCount\r\n              maxLength={100}\r\n              placeholder=\"Description\"\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst Pictures = (props) => {\r\n  const [profile, setProfile] = useState(\"\");\r\n\r\n  const [gallery, setGallery] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!gallery.length && props.user.gallery.length)\r\n      setGallery(\r\n        props.user.gallery.map((g) => {\r\n          let obj = {\r\n            dataURL: URL.createObjectURL(g),\r\n            file: g,\r\n          };\r\n          return obj;\r\n        })\r\n      );\r\n    if (profile === \"\" && props.user.profile !== \"\")\r\n      setProfile(URL.createObjectURL(props.user.profile[0]));\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const profileUpload = useRef(null);\r\n  const galleryUpload = useRef(null);\r\n\r\n  const handleProfileUpload = (e) => {\r\n    props.handleProfileimage(e);\r\n    setProfile(e[0].dataURL);\r\n  };\r\n  const handleGalleryUpload = (e) => {\r\n    setGallery(e);\r\n    props.handleGallery(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Profile */}\r\n      <ImageUploading\r\n        name=\"profile\"\r\n        onChange={handleProfileUpload}\r\n        maxNumber={1}\r\n      >\r\n        {({ onImageUpload, onImageUpdate }) => (\r\n          <div className=\"upload__image-wrapper\">\r\n            <Button\r\n              ref={profileUpload}\r\n              style={{ display: \"none\" }}\r\n              onClick={profile === \"\" ? onImageUpdate : onImageUpdate}\r\n              // {...dragProps}\r\n            />\r\n          </div>\r\n        )}\r\n      </ImageUploading>\r\n      <div className=\"profileImg\">\r\n        <div>\r\n          {profile === \"\" ? (\r\n            <Avatar\r\n              size={200}\r\n              icon={<UserOutlined />}\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              onClick={() => profileUpload.current.click()}\r\n            />\r\n          ) : (\r\n            <img\r\n              onClick={() => profileUpload.current.click()}\r\n              src={profile}\r\n              alt=\"...\"\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                borderRadius: \"50%\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* gallery */}\r\n      <ImageUploading\r\n        multiple\r\n        name=\"gallery\"\r\n        value={gallery}\r\n        onChange={handleGalleryUpload}\r\n        maxNumber={4}\r\n      >\r\n        {({ onImageUpload, onImageRemove, imageList }) => (\r\n          // write your building UI\r\n          <div className=\"upload__image-wrapper\">\r\n            <Button\r\n              ref={galleryUpload}\r\n              style={{ display: \"none\" }}\r\n              onClick={onImageUpload}\r\n            >\r\n              Upload image for gallery\r\n            </Button>\r\n\r\n            <div className=\"listImage\">\r\n              {imageList.map((image, key) => (\r\n                <div className=\"tte\" key={key}>\r\n                  <img\r\n                    src={image.dataURL}\r\n                    alt=\"...\"\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      position: \"absolute\",\r\n                    }}\r\n                  />\r\n                  <div className=\"removeImg\" onClick={() => onImageRemove(key)}>\r\n                    <DeleteOutlined\r\n                      style={{ fontSize: \"30px\", color: \"#b5b5b5\" }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {gallery.length < 4 ? (\r\n                <div\r\n                  onClick={() => galleryUpload.current.click()}\r\n                  className=\"uploadNextImage\"\r\n                >\r\n                  <p>+ Upload Image</p>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </ImageUploading>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Location = (props) => {\r\n  // eslint-disable-next-line\r\n  useEffect(async () => {\r\n    navigator.geolocation.getCurrentPosition(() => \"\");\r\n    let data = await getIP();\r\n\r\n    if (navigator.geolocation) {\r\n      props.setLocation(data.data);\r\n    } else {\r\n      props.setLocation(data.data);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const position = [props.user.lat, props.user.lang];\r\n\r\n  L.Icon.Default.imagePath = \"img/\";\r\n\r\n  return (\r\n    <>\r\n      <Form.Item>\r\n        <Map\r\n          style={{ height: \"500px\", width: \"100wh\" }}\r\n          center={position}\r\n          zoom={13}\r\n          scrollWheelZoom={false}\r\n        >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Marker position={position}>\r\n            <Popup>\r\n              We see you <br /> You are here.\r\n            </Popup>\r\n          </Marker>\r\n        </Map>\r\n      </Form.Item>\r\n    </>\r\n  );\r\n};\r\n\r\nconst steps = [\r\n  {\r\n    title: \"Info\",\r\n    content: (user, confirm, handleInfo, setDate) => (\r\n      <Info\r\n        user={user}\r\n        handleInfo={handleInfo}\r\n        handleDate={setDate}\r\n        confirm={confirm}\r\n      />\r\n    ),\r\n  },\r\n  {\r\n    title: \"Pictures\",\r\n    content: (user, handleGallery, handleProfileimage) => (\r\n      <Pictures\r\n        user={user}\r\n        handleGallery={handleGallery}\r\n        handleProfileimage={handleProfileimage}\r\n      />\r\n    ),\r\n  },\r\n  {\r\n    title: \"Location\",\r\n    content: (user, setLocation) => (\r\n      <Location user={user} setLocation={setLocation} />\r\n    ),\r\n  },\r\n];\r\n// !PARENT COMPONENT\r\nconst CompleteProfile = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const { state, dispatch } = useContext(Context);\r\n  const [current, setCurrent] = useState(0);\r\n  let history = useHistory();\r\n  const [user, setUser] = useState({\r\n    gender: \"\",\r\n    interest: \"\",\r\n    tags: [],\r\n    birthday: \"\",\r\n    bio: \"\",\r\n    profile: \"\",\r\n    gallery: [],\r\n    lat: 0,\r\n    lang: 0,\r\n    country: \"\",\r\n    city: \"\",\r\n    validation: 0,\r\n  });\r\n\r\n  const submit = async () => {\r\n    const res = await stepsAction(state.token, user, dispatch);\r\n\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      dispatch({\r\n        type: COMPLETE,\r\n        payload: {\r\n          success: true,\r\n          isCompletinfo: true,\r\n        },\r\n      });\r\n      openMessageSuccess(res.message);\r\n      history.push(\"/home\");\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n  //* SET INFO IN USER STATE\r\n  const handleInfo = (e) => {\r\n    setUser({\r\n      ...user,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const setStepOne = (data) => {\r\n    setUser({\r\n      ...user,\r\n      tags: data,\r\n    });\r\n  };\r\n  const setDate = (birthdate) => {\r\n    setUser({\r\n      ...user,\r\n      birthday: birthdate,\r\n    });\r\n  };\r\n  // * SET PICTURES IN USER STATE\r\n  const handleGallery = (gallery) => {\r\n    const files = gallery.map((pic) => {\r\n      return pic.file;\r\n    });\r\n    setUser({\r\n      ...user,\r\n      gallery: files,\r\n    });\r\n  };\r\n  const handleProfileimage = (gallery) => {\r\n    const files = gallery.map((pic) => {\r\n      return pic.file;\r\n    });\r\n    setUser({\r\n      ...user,\r\n      profile: files,\r\n    });\r\n  };\r\n  // * SET LOCATION IN USER STATE\r\n  const setLocation = (info) => {\r\n    setUser({\r\n      ...user,\r\n      lat: info.lat,\r\n      lang: info.lon,\r\n      country: info.country,\r\n      city: info.city,\r\n    });\r\n  };\r\n\r\n  // * VALIDATE STEPS\r\n  const validateStep = (step) => {\r\n    if (step === 0) {\r\n      if (\r\n        user.gender !== \"\" &&\r\n        user.interest !== \"\" &&\r\n        user.tags.length > 0 &&\r\n        user.birthday !== \"\" &&\r\n        user.bio.length >= 10\r\n      )\r\n        return true;\r\n    } else if (step === 1) {\r\n      if (\r\n        (user.profile !== \"\" && user.gallery !== \"\") ||\r\n        (user.profile !== \"\" && user.gallery === \"\")\r\n      ) {\r\n        return true;\r\n      }\r\n    } else if (step === 2) {\r\n      if (\r\n        user.city !== \"\" &&\r\n        user.country !== \"\" &&\r\n        user.lat !== \"\" &&\r\n        user.lang !== \"\"\r\n      )\r\n        return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const next = () => {\r\n    if (validateStep(current)) {\r\n      setUser({ ...user, validation: 0 });\r\n      if (current + 1 !== 3) {\r\n        message.loading(\"Loading...\", 2);\r\n        openMessageWarning(\"one more ...\");\r\n      }\r\n\r\n      setCurrent(current + 1);\r\n    } else {\r\n      setUser({ ...user, validation: 1 });\r\n      message.loading(\"Loading...\", 2);\r\n      openMessageError(\r\n        current + 1 === 2\r\n          ? \"Your must choose at least the profile picture\"\r\n          : \"You Must Complet Your inðŸ¤ªfo \"\r\n      );\r\n    }\r\n  };\r\n  const Logout = async () => {\r\n    await logoutAction(state.id, dispatch);\r\n  };\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <img\r\n          style={{\r\n            width: \"100%\",\r\n            maxWidth: \"800px\",\r\n            marginBottom: \"60px\",\r\n            marginTop: \"0\",\r\n          }}\r\n          id=\"img\"\r\n          alt=\"login svg\"\r\n          src={cupid}\r\n        />\r\n        <div>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => setVisible(true)}\r\n            style={{ fontSize: \"0.7rem\" }}\r\n          >\r\n            Complete profile !\r\n          </Button>\r\n        </div>\r\n        <div style={{ marginTop: \"12px\" }}>\r\n          <Link to=\"/\">\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={Logout}\r\n              style={{ fontSize: \"0.7rem\" }}\r\n            >\r\n              Logout\r\n            </Button>{\" \"}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        title=\"Dear, Complete your profile !\"\r\n        centered\r\n        footer={null}\r\n        visible={visible}\r\n        onCancel={() => setVisible(false)}\r\n        width=\"70%\"\r\n        style={{ height: \"100%\" }}\r\n        className=\"stepsContainer\"\r\n      >\r\n        <Steps current={current} className=\"stepsTitles\">\r\n          {steps.map((item) => (\r\n            <Step key={item.title} title={item.title} className=\"stepsTitle\" />\r\n          ))}\r\n        </Steps>\r\n        <div className=\"steps-content\">\r\n          {current === 0\r\n            ? steps[current].content(user, setStepOne, handleInfo, setDate)\r\n            : \"\"}\r\n          {current === 1\r\n            ? steps[current].content(user, handleGallery, handleProfileimage)\r\n            : \"\"}\r\n          {current === 2 ? steps[current].content(user, setLocation) : \"\"}\r\n        </div>\r\n\r\n        <div className=\"steps-action\" style={{ textAlign: \"center\" }}>\r\n          {current > 0 && (\r\n            <Button\r\n              style={{ fontSize: \"10px\", marginLeft: \"8px\" }}\r\n              onClick={() => prev()}\r\n            >\r\n              Previous\r\n            </Button>\r\n          )}\r\n          {current === steps.length - 1 && (\r\n            <Button\r\n              style={{ fontSize: \"10px\" }}\r\n              type=\"primary\"\r\n              onClick={() => submit()}\r\n            >\r\n              Done\r\n            </Button>\r\n          )}\r\n          {current < steps.length - 1 && (\r\n            <Button\r\n              style={{ fontSize: \"10px\" }}\r\n              type=\"primary\"\r\n              onClick={() => next()}\r\n            >\r\n              Next\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompleteProfile;\r\n"]},"metadata":{},"sourceType":"module"}