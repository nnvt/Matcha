{"ast":null,"code":"import \"antd/lib/image/style\";\nimport _Image from \"antd/lib/image\";\nimport \"antd/lib/divider/style\";\nimport _Divider from \"antd/lib/divider\";\nimport \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/list/style\";\nimport _List from \"antd/lib/list\";\nimport \"antd/lib/tooltip/style\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport \"antd/lib/progress/style\";\nimport _Progress from \"antd/lib/progress\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/statistic/style\";\nimport _Statistic from \"antd/lib/statistic\";\nimport \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Matcha\\\\client\\\\src\\\\components\\\\UserInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport \"../assets/css/Profile.less\";\nimport { EnvironmentOutlined, ManOutlined, WomanOutlined, WarningTwoTone, StopOutlined, ReloadOutlined, DislikeOutlined, LikeOutlined, UserAddOutlined, UserDeleteOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../Contexts/Context\";\nimport { openMessageError, openMessageSuccess } from \"../helper/Verifications\";\nimport { blockAction, unBlockAction, ReportAction, LikeAction, UnLikeAction } from \"../actions/editActions\";\nimport moment from \"moment\";\nimport { socketConn as socket } from \"../sockets\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UserInfo = props => {\n  _s();\n\n  var _user$tags, _user$images;\n\n  const {\n    state\n  } = useContext(Context);\n  const [status, setStatus] = useState({\n    online: false,\n    status: \"\"\n  });\n  const [user, setUser] = useState({\n    id: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    email: \"\",\n    username: \"\",\n    gender: \"\",\n    looking: \"\",\n    birthday: \"\",\n    age: \"\",\n    bio: \"\",\n    tags: [],\n    lang: \"\",\n    lat: \"\",\n    country: \"\",\n    city: \"\",\n    images: [],\n    profile: \"\",\n    followers: \"\",\n    following: \"\",\n    blocked: false,\n    liked: false,\n    matched: false // New state to track if users are matched\n\n  });\n  const [isModalVisible, setisModalVisible] = useState(false);\n  const [modalName, setmodalName] = useState(\"\");\n  const [modalList, setmodalList] = useState([]);\n\n  const getUser = async username => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${state.token}`\n      }\n    };\n\n    try {\n      const res = await axios.get(\"http://localhost:3001/api/users/find/user/username/\" + username, config);\n      return res.status === 200 ? res.data : false;\n    } catch (error) {\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    const loaduser = async () => {\n      const res = await getUser(props.data.username);\n\n      if (res) {\n        setUser({ ...user,\n          profile: res.images.map(i => {\n            return i.profile === 1 ? i.url : null;\n          })[0],\n          images: res.images.filter(i => i.profile === 0),\n          id: res.id,\n          firstname: res.firstname,\n          lastname: res.lastname,\n          username: res.username,\n          tags: res.tags,\n          gender: res.gender,\n          looking: res.looking,\n          bio: res.bio,\n          fame: res.fame,\n          lat: res.lat,\n          lang: res.lang,\n          country: res.country,\n          city: res.city,\n          age: res.age,\n          followers: res.followers,\n          following: res.following,\n          blocked: res.blocked,\n          liked: res.liked,\n          matched: res.matched\n        });\n        socket.emit(\"isOnline\", {\n          userid: res.id\n        });\n      } else {\n        openMessageError(\"Failed to load user informations !\");\n      }\n    };\n\n    loaduser();\n    return () => {\n      setUser({});\n    }; // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (user.id) {\n      socket.on(user.id + \"-online-status\", data => {\n        setStatus({\n          online: data.online,\n          status: data.status\n        });\n      });\n    } // eslint-disable-next-line\n\n  }); //* HANDLE LIKE\n\n  const handlLikeUser = async (connid, id) => {\n    const res = await LikeAction(state.token, id);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      socket.emit(\"notify\", {\n        type: \"like\",\n        visitor: connid,\n        visited: id\n      });\n      setUser({ ...user,\n        liked: true\n      });\n      openMessageSuccess(res.message);\n    } else {\n      openMessageError(res.error);\n    }\n  }; //* HANDLE UNLIKE\n\n\n  const handlUnLikeUser = async (connid, id) => {\n    const res = await UnLikeAction(state.token, id);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      socket.emit(\"notify\", {\n        type: \"unlike\",\n        visitor: connid,\n        visited: id\n      });\n      setUser({ ...user,\n        liked: false\n      });\n      openMessageSuccess(res.message);\n    } else {\n      openMessageError(res.error);\n    }\n  }; //* HANDLE MATCH\n\n\n  const handleMatchUser = async () => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${state.token}`\n        }\n      };\n      const res = await axios.post(\"http://localhost:3001/api/matchers/create\", {\n        matcher: state.id,\n        matched: user.id\n      }, config);\n\n      if (res.data.success) {\n        setUser({ ...user,\n          matched: true\n        });\n        openMessageSuccess(\"Matched successfully!\");\n      } else {\n        openMessageError(res.data.error || \"Failed to match the user.\");\n      }\n    } catch (error) {\n      openMessageError(\"Error occurred while matching user.\");\n    }\n  }; //* HANDLE UNMATCH\n\n\n  const handleUnmatchUser = async () => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${state.token}`\n        }\n      };\n      const res = await axios.delete(\"http://localhost:3001/api/matchers/unmatch\", {\n        data: {\n          matcher: state.id,\n          matched: user.id\n        },\n        ...config\n      });\n\n      if (res.data.success) {\n        setUser({ ...user,\n          matched: false\n        });\n        openMessageSuccess(\"Unmatched successfully!\");\n      } else {\n        openMessageError(res.data.error || \"Failed to unmatch the user.\");\n      }\n    } catch (error) {\n      openMessageError(\"Error occurred while unmatching user.\");\n    }\n  }; //* HANDLE REPORT\n\n\n  const handlReportUser = async id => {\n    const res = await ReportAction(state.token, id);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      socket.emit(\"report\", {\n        reported: id\n      });\n      openMessageSuccess(res.message);\n    } else {\n      openMessageError(res.error);\n    }\n  }; //* HANDLE BLOCK\n\n\n  const handlBlockUser = async id => {\n    const res = await blockAction(state.token, id);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      setUser({ ...user,\n        blocked: true\n      });\n      openMessageSuccess(res.message);\n    } else {\n      openMessageError(res.error);\n    }\n  }; //* HANDLE UNBLOCK\n\n\n  const handlUnBlockUser = async id => {\n    const res = await unBlockAction(state.token, id);\n\n    _message.loading(\"Loading...\", 2);\n\n    if (res.success) {\n      openMessageSuccess(res.message);\n      setUser({ ...user,\n        blocked: false\n      });\n    } else {\n      openMessageError(res.error);\n    }\n  };\n\n  const openModal = async name => {\n    let data;\n    setmodalName(name);\n\n    if (data = await getModalData(name)) {\n      setmodalList(data.data);\n    }\n\n    setisModalVisible(true);\n  };\n\n  const getModalData = async name => {\n    var _response;\n\n    let response;\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${state.token}`\n      }\n    };\n\n    switch (name) {\n      case \"viewers\":\n        response = await axios.get(\"http://localhost:3001/api/history/user/viewers\", config);\n        break;\n\n      case \"following\":\n        response = await axios.get(\"http://localhost:3001/api/history/user/following/\" + user.id, config);\n        break;\n\n      case \"followers\":\n        response = await axios.get(\"http://localhost:3001/api/history/user/followers/\" + user.id, config);\n        break;\n\n      default:\n        response = null;\n        break;\n    }\n\n    if ((_response = response) === null || _response === void 0 ? void 0 : _response.data.success) {\n      var _response2;\n\n      return (_response2 = response) === null || _response2 === void 0 ? void 0 : _response2.data;\n    } else {\n      return false;\n    }\n  };\n\n  const handleCancelModal = () => {\n    setisModalVisible(false);\n  };\n\n  const menu = /*#__PURE__*/_jsxDEV(_Menu, {\n    children: /*#__PURE__*/_jsxDEV(_Menu.Item, {\n      onClick: () => handlReportUser(user.id),\n      children: \"It's a fake account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 334,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Row, {\n    children: [/*#__PURE__*/_jsxDEV(_Col, {\n      xs: 24,\n      md: 11,\n      span: 8,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"side-container\",\n        style: {\n          marginBottom: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(_Avatar, {\n            id: \"profile-picture\",\n            size: 150,\n            src: user.profile ? \"http://localhost:3001/api/\" + user.profile : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            padding: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: \"15px\",\n              fontWeight: \"bolder\"\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(_Row, {\n            gutter: 16,\n            style: {\n              marginBottom: \"20px\",\n              display: \"flex\",\n              justifyContent: \"space-around\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(_Col, {\n              xs: 24,\n              md: 11,\n              children: /*#__PURE__*/_jsxDEV(_Card, {\n                style: {\n                  textAlign: \"center\",\n                  cursor: \"pointer\",\n                  borderRadius: \"8px\",\n                  display: \"flex\",\n                  justifyContent: \"space-around\"\n                },\n                onClick: () => openModal(`followers`),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"#a8a8a8\",\n                    fontSize: \"12px\"\n                  },\n                  children: \"Followers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(_Statistic, {\n                  value: user.followers,\n                  valueStyle: {\n                    color: \"#d9374b\",\n                    fontSize: \"16px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Col, {\n              xs: 24,\n              md: 11,\n              children: /*#__PURE__*/_jsxDEV(_Card, {\n                style: {\n                  textAlign: \"center\",\n                  cursor: \"pointer\",\n                  borderRadius: \"8px\"\n                },\n                onClick: () => openModal(`following`),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"#a8a8a8\",\n                    fontSize: \"12px\"\n                  },\n                  children: \"Following\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(_Statistic, {\n                  value: user.following,\n                  valueStyle: {\n                    color: \"#d9374b\",\n                    fontSize: \"16px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n            title: modalName,\n            footer: null,\n            visible: isModalVisible,\n            onCancel: handleCancelModal,\n            children: modalList.length ? /*#__PURE__*/_jsxDEV(_List, {\n              itemLayout: \"horizontal\",\n              dataSource: modalList,\n              renderItem: item => /*#__PURE__*/_jsxDEV(_List.Item, {\n                children: item ? /*#__PURE__*/_jsxDEV(_List.Item.Meta, {\n                  avatar: /*#__PURE__*/_jsxDEV(_Avatar, {\n                    size: 50,\n                    src: \"http://localhost:3001/api/\" + item.profile\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 33\n                  }, this),\n                  title: /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/profile/${item.username}`,\n                      children: [item.firstname, \" \", item.lastname]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 34\n                    }, this)\n                  }, void 0, false),\n                  description: /*#__PURE__*/_jsxDEV(_Tooltip, {\n                    title: `${item.fame}% Popularity`,\n                    children: /*#__PURE__*/_jsxDEV(_Progress, {\n                      strokeColor: {\n                        \"0%\": \"#d3ea13\",\n                        \"100%\": \"#68d083\"\n                      },\n                      percent: item.fame,\n                      showInfo: false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 82\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this) : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this) : \"No users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"popularity\",\n          children: /*#__PURE__*/_jsxDEV(_Tooltip, {\n            title: `${user.fame}% Popularity`,\n            children: /*#__PURE__*/_jsxDEV(_Progress, {\n              strokeColor: {\n                \"0%\": \"#d3ea13\",\n                \"100%\": \"#68d083\"\n              },\n              percent: user.fame,\n              showInfo: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"location\",\n          children: /*#__PURE__*/_jsxDEV(_Tag, {\n            icon: /*#__PURE__*/_jsxDEV(EnvironmentOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 24\n            }, this),\n            children: `${user.city}, ${user.country}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"gender-interest\",\n          children: [/*#__PURE__*/_jsxDEV(_Tag, {\n            id: \"gender\",\n            icon: user.gender === \"male\" ? /*#__PURE__*/_jsxDEV(ManOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 61\n            }, this) : user.gender === \"female\" ? /*#__PURE__*/_jsxDEV(WomanOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 106\n            }, this) : \"ðŸ³ï¸â€ðŸŒˆ\",\n            color: \"#55acee\",\n            children: user.gender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Looking for\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Tag, {\n            id: \"Interest\",\n            icon: user.looking === \"male\" ? /*#__PURE__*/_jsxDEV(ManOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 64\n            }, this) : user.looking === \"female\" ? /*#__PURE__*/_jsxDEV(WomanOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 110\n            }, this) : \"ðŸ³ï¸â€ðŸŒˆ\",\n            color: \"#ff69b4\",\n            children: user.looking\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"tags\",\n          children: (_user$tags = user.tags) === null || _user$tags === void 0 ? void 0 : _user$tags.map((tag, index) => /*#__PURE__*/_jsxDEV(_Tag, {\n            children: tag.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 46\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Col, {\n      xs: 24,\n      md: 13,\n      span: 16,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"name-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"fullname\",\n            children: `${user.firstname} ${user.lastname}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"online-dot\",\n            style: status.online ? {\n              backgroundColor: \"green\"\n            } : {\n              backgroundColor: \"#bfc1bf\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"online-status\",\n            children: status.online ? \"Online\" : \"Active \" + moment(status.status).fromNow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"auto\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(_Button, {\n              shape: \"circle\",\n              style: {\n                marginRight: \"5px\",\n                borderColor: \"#d9374b\"\n              },\n              children: user.liked ? /*#__PURE__*/_jsxDEV(DislikeOutlined, {\n                onClick: () => handlUnLikeUser(state.id, user.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 31\n              }, this) : /*#__PURE__*/_jsxDEV(LikeOutlined, {\n                onClick: () => handlLikeUser(state.id, user.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 104\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Dropdown, {\n              overlay: menu,\n              children: /*#__PURE__*/_jsxDEV(_Button, {\n                shape: \"circle\",\n                style: {\n                  marginRight: \"5px\",\n                  borderColor: \"#d9374b\"\n                },\n                onClick: e => e.preventDefault(),\n                children: /*#__PURE__*/_jsxDEV(WarningTwoTone, {\n                  twoToneColor: \"#d9374b\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 131\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Button, {\n              shape: \"circle\",\n              style: {\n                marginRight: \"5px\",\n                borderColor: \"#d9374b\"\n              },\n              children: user.blocked === true ? /*#__PURE__*/_jsxDEV(ReloadOutlined, {\n                onClick: () => handlUnBlockUser(user.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 42\n              }, this) : /*#__PURE__*/_jsxDEV(StopOutlined, {\n                onClick: () => handlBlockUser(user.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 105\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), user.matched ? /*#__PURE__*/_jsxDEV(_Button, {\n              shape: \"circle\",\n              style: {\n                borderColor: \"#d9374b\"\n              },\n              onClick: handleUnmatchUser,\n              icon: /*#__PURE__*/_jsxDEV(UserDeleteOutlined, {\n                twoToneColor: \"#d9374b\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 109\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Button, {\n              shape: \"circle\",\n              style: {\n                borderColor: \"#d9374b\"\n              },\n              onClick: handleMatchUser,\n              icon: /*#__PURE__*/_jsxDEV(UserAddOutlined, {\n                twoToneColor: \"#d9374b\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 107\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"description-title\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"pictures-title\",\n            children: \"Pictures\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"profile-pictures\",\n            children: (_user$images = user.images) === null || _user$images === void 0 ? void 0 : _user$images.map((img, index) => {\n              // Chuáº©n hÃ³a Ä‘Æ°á»ng dáº«n áº£nh báº±ng cÃ¡ch thay tháº¿ \\ báº±ng /\n              const normalizedUrl = img === null || img === void 0 ? void 0 : img.url.replace(/\\\\/g, \"/\");\n              console.log(\"Normalized Image URL:\", normalizedUrl);\n              return /*#__PURE__*/_jsxDEV(_Image, {\n                src: `http://localhost:3000/${normalizedUrl}` // Sá»­ dá»¥ng URL Ä‘Ã£ chuáº©n hÃ³a\n                ,\n                style: {\n                  borderRadius: \"8px\"\n                },\n                onError: e => {\n                  e.target.src = \"http://localhost:3000/public/images/users/default.jpg\"; // ThÃªm áº£nh thay tháº¿ khi khÃ´ng táº£i Ä‘Æ°á»£c áº£nh gá»‘c\n                }\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 342,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserInfo, \"4L4GAA5X5oD4T8d1ZRpB97VsABY=\");\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Matcha/client/src/components/UserInfo.js"],"names":["React","useState","useEffect","useContext","axios","EnvironmentOutlined","ManOutlined","WomanOutlined","WarningTwoTone","StopOutlined","ReloadOutlined","DislikeOutlined","LikeOutlined","UserAddOutlined","UserDeleteOutlined","Link","Context","openMessageError","openMessageSuccess","blockAction","unBlockAction","ReportAction","LikeAction","UnLikeAction","moment","socketConn","socket","UserInfo","props","state","status","setStatus","online","user","setUser","id","firstname","lastname","email","username","gender","looking","birthday","age","bio","tags","lang","lat","country","city","images","profile","followers","following","blocked","liked","matched","isModalVisible","setisModalVisible","modalName","setmodalName","modalList","setmodalList","getUser","config","headers","Authorization","token","res","get","data","error","loaduser","map","i","url","filter","fame","emit","userid","on","handlLikeUser","connid","loading","success","type","visitor","visited","message","handlUnLikeUser","handleMatchUser","post","matcher","handleUnmatchUser","delete","handlReportUser","reported","handlBlockUser","handlUnBlockUser","openModal","name","getModalData","response","handleCancelModal","menu","marginBottom","display","justifyContent","padding","fontSize","fontWeight","textAlign","cursor","borderRadius","color","length","item","tag","index","backgroundColor","fromNow","marginLeft","marginRight","borderColor","e","preventDefault","img","normalizedUrl","replace","console","log","target","src"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../assets/css/Profile.less\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Avatar,\r\n  Progress,\r\n  Tag,\r\n  Tooltip,\r\n  Button,\r\n  Image,\r\n  Divider,\r\n  Dropdown,\r\n  Menu,\r\n  Card,\r\n  Statistic,\r\n  Modal,\r\n  List,\r\n  message,\r\n} from \"antd\";\r\nimport {\r\n  EnvironmentOutlined,\r\n  ManOutlined,\r\n  WomanOutlined,\r\n  WarningTwoTone,\r\n  StopOutlined,\r\n  ReloadOutlined,\r\n  DislikeOutlined,\r\n  LikeOutlined,\r\n  UserAddOutlined,\r\n  UserDeleteOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../Contexts/Context\";\r\nimport { openMessageError, openMessageSuccess } from \"../helper/Verifications\";\r\nimport {\r\n  blockAction,\r\n  unBlockAction,\r\n  ReportAction,\r\n  LikeAction,\r\n  UnLikeAction,\r\n} from \"../actions/editActions\";\r\nimport moment from \"moment\";\r\nimport { socketConn as socket } from \"../sockets\";\r\n\r\nconst UserInfo = (props) => {\r\n  const { state } = useContext(Context);\r\n  const [status, setStatus] = useState({\r\n    online: false,\r\n    status: \"\",\r\n  });\r\n\r\n  const [user, setUser] = useState({\r\n    id: \"\",\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    gender: \"\",\r\n    looking: \"\",\r\n    birthday: \"\",\r\n    age: \"\",\r\n    bio: \"\",\r\n    tags: [],\r\n    lang: \"\",\r\n    lat: \"\",\r\n    country: \"\",\r\n    city: \"\",\r\n    images: [],\r\n    profile: \"\",\r\n    followers: \"\",\r\n    following: \"\",\r\n    blocked: false,\r\n    liked: false,\r\n    matched: false, // New state to track if users are matched\r\n  });\r\n  const [isModalVisible, setisModalVisible] = useState(false);\r\n  const [modalName, setmodalName] = useState(\"\");\r\n  const [modalList, setmodalList] = useState([]);\r\n\r\n  const getUser = async (username) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${state.token}`,\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await axios.get(\r\n        \"http://localhost:3001/api/users/find/user/username/\" + username,\r\n        config\r\n      );\r\n      return res.status === 200 ? res.data : false;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loaduser = async () => {\r\n      const res = await getUser(props.data.username);\r\n\r\n      if (res) {\r\n        setUser({\r\n          ...user,\r\n          profile: res.images.map((i) => {\r\n            return i.profile === 1 ? i.url : null;\r\n          })[0],\r\n          images: res.images.filter((i) => i.profile === 0),\r\n          id: res.id,\r\n          firstname: res.firstname,\r\n          lastname: res.lastname,\r\n          username: res.username,\r\n          tags: res.tags,\r\n          gender: res.gender,\r\n          looking: res.looking,\r\n          bio: res.bio,\r\n          fame: res.fame,\r\n          lat: res.lat,\r\n          lang: res.lang,\r\n          country: res.country,\r\n          city: res.city,\r\n          age: res.age,\r\n          followers: res.followers,\r\n          following: res.following,\r\n          blocked: res.blocked,\r\n          liked: res.liked,\r\n          matched: res.matched,\r\n        });\r\n        socket.emit(\"isOnline\", { userid: res.id });\r\n      } else {\r\n        openMessageError(\"Failed to load user informations !\");\r\n      }\r\n    };\r\n    loaduser();\r\n    return () => {\r\n      setUser({});\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      socket.on(user.id + \"-online-status\", (data) => {\r\n        setStatus({\r\n          online: data.online,\r\n          status: data.status,\r\n        });\r\n      });\r\n    }\r\n    // eslint-disable-next-line\r\n  });\r\n\r\n  //* HANDLE LIKE\r\n  const handlLikeUser = async (connid, id) => {\r\n    const res = await LikeAction(state.token, id);\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      socket.emit(\"notify\", {\r\n        type: \"like\",\r\n        visitor: connid,\r\n        visited: id,\r\n      });\r\n      setUser({ ...user, liked: true });\r\n      openMessageSuccess(res.message);\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n\r\n  //* HANDLE UNLIKE\r\n  const handlUnLikeUser = async (connid, id) => {\r\n    const res = await UnLikeAction(state.token, id);\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      socket.emit(\"notify\", {\r\n        type: \"unlike\",\r\n        visitor: connid,\r\n        visited: id,\r\n      });\r\n      setUser({ ...user, liked: false });\r\n      openMessageSuccess(res.message);\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n\r\n  //* HANDLE MATCH\r\n  const handleMatchUser = async () => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${state.token}`,\r\n        },\r\n      };\r\n      const res = await axios.post(\r\n        \"http://localhost:3001/api/matchers/create\",\r\n        { matcher: state.id, matched: user.id },\r\n        config\r\n      );\r\n\r\n      if (res.data.success) {\r\n        setUser({ ...user, matched: true });\r\n        openMessageSuccess(\"Matched successfully!\");\r\n      } else {\r\n        openMessageError(res.data.error || \"Failed to match the user.\");\r\n      }\r\n    } catch (error) {\r\n      openMessageError(\"Error occurred while matching user.\");\r\n    }\r\n  };\r\n\r\n  //* HANDLE UNMATCH\r\n  const handleUnmatchUser = async () => {\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${state.token}`,\r\n        },\r\n      };\r\n      const res = await axios.delete(\r\n        \"http://localhost:3001/api/matchers/unmatch\",\r\n        {\r\n          data: { matcher: state.id, matched: user.id },\r\n          ...config,\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        setUser({ ...user, matched: false });\r\n        openMessageSuccess(\"Unmatched successfully!\");\r\n      } else {\r\n        openMessageError(res.data.error || \"Failed to unmatch the user.\");\r\n      }\r\n    } catch (error) {\r\n      openMessageError(\"Error occurred while unmatching user.\");\r\n    }\r\n  };\r\n\r\n  //* HANDLE REPORT\r\n  const handlReportUser = async (id) => {\r\n    const res = await ReportAction(state.token, id);\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      socket.emit(\"report\", { reported: id });\r\n      openMessageSuccess(res.message);\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n\r\n  //* HANDLE BLOCK\r\n  const handlBlockUser = async (id) => {\r\n    const res = await blockAction(state.token, id);\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      setUser({ ...user, blocked: true });\r\n      openMessageSuccess(res.message);\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n\r\n  //* HANDLE UNBLOCK\r\n  const handlUnBlockUser = async (id) => {\r\n    const res = await unBlockAction(state.token, id);\r\n    message.loading(\"Loading...\", 2);\r\n    if (res.success) {\r\n      openMessageSuccess(res.message);\r\n      setUser({ ...user, blocked: false });\r\n    } else {\r\n      openMessageError(res.error);\r\n    }\r\n  };\r\n\r\n  const openModal = async (name) => {\r\n    let data;\r\n    setmodalName(name);\r\n    if ((data = await getModalData(name))) {\r\n      setmodalList(data.data);\r\n    }\r\n    setisModalVisible(true);\r\n  };\r\n\r\n  const getModalData = async (name) => {\r\n    let response;\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${state.token}`,\r\n      },\r\n    };\r\n\r\n    switch (name) {\r\n      case \"viewers\":\r\n        response = await axios.get(\r\n          \"http://localhost:3001/api/history/user/viewers\",\r\n          config\r\n        );\r\n        break;\r\n      case \"following\":\r\n        response = await axios.get(\r\n          \"http://localhost:3001/api/history/user/following/\" + user.id,\r\n          config\r\n        );\r\n        break;\r\n      case \"followers\":\r\n        response = await axios.get(\r\n          \"http://localhost:3001/api/history/user/followers/\" + user.id,\r\n          config\r\n        );\r\n        break;\r\n      default:\r\n        response = null;\r\n        break;\r\n    }\r\n\r\n    if (response?.data.success) {\r\n      return response?.data;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleCancelModal = () => {\r\n    setisModalVisible(false);\r\n  };\r\n\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item onClick={() => handlReportUser(user.id)}>\r\n        It's a fake account\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs={24} md={11} span={8}>\r\n        <div id=\"side-container\" style={{ marginBottom: \"20px\" }}>\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <Avatar\r\n              id=\"profile-picture\"\r\n              size={150}\r\n              src={user.profile ? \"http://localhost:3001/api/\" + user.profile : \"\"}\r\n            />\r\n          </div>\r\n          <div style={{ display: \"flex\", justifyContent: \"center\", padding: \"10px\" }}>\r\n            <h3 style={{ fontSize: \"15px\", fontWeight: \"bolder\" }}>{user.username}</h3>\r\n          </div>\r\n          <div>\r\n            <Row gutter={16} style={{ marginBottom: \"20px\", display: \"flex\", justifyContent: \"space-around\" }}>\r\n              <Col xs={24} md={11}>\r\n                <Card style={{ textAlign: \"center\", cursor: \"pointer\", borderRadius: \"8px\", display: \"flex\", justifyContent: \"space-around\" }} onClick={() => openModal(`followers`)}>\r\n                  <span style={{ color: \"#a8a8a8\", fontSize: \"12px\" }}>Followers</span>\r\n                  <Statistic value={user.followers} valueStyle={{ color: \"#d9374b\", fontSize: \"16px\" }} />\r\n                </Card>\r\n              </Col>\r\n              <Col xs={24} md={11}>\r\n                <Card style={{ textAlign: \"center\", cursor: \"pointer\", borderRadius: \"8px\" }} onClick={() => openModal(`following`)}>\r\n                  <span style={{ color: \"#a8a8a8\", fontSize: \"12px\" }}>Following</span>\r\n                  <Statistic value={user.following} valueStyle={{ color: \"#d9374b\", fontSize: \"16px\" }} />\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <Modal title={modalName} footer={null} visible={isModalVisible} onCancel={handleCancelModal}>\r\n              {modalList.length ? (\r\n                <List itemLayout=\"horizontal\" dataSource={modalList} renderItem={(item) => (\r\n                  <List.Item>\r\n                    {item ? (\r\n                      <List.Item.Meta\r\n                        avatar={<Avatar size={50} src={\"http://localhost:3001/api/\" + item.profile} />}\r\n                        title={<><Link to={`/profile/${item.username}`}>{item.firstname} {item.lastname}</Link></>}\r\n                        description={<Tooltip title={`${item.fame}% Popularity`}><Progress strokeColor={{ \"0%\": \"#d3ea13\", \"100%\": \"#68d083\" }} percent={item.fame} showInfo={false} /></Tooltip>}\r\n                      />\r\n                    ) : (\"\")}\r\n                  </List.Item>\r\n                )} />\r\n              ) : (\"No users\")}\r\n            </Modal>\r\n          </div>\r\n          <div id=\"popularity\">\r\n            <Tooltip title={`${user.fame}% Popularity`}>\r\n              <Progress strokeColor={{ \"0%\": \"#d3ea13\", \"100%\": \"#68d083\" }} percent={user.fame} showInfo={false} />\r\n            </Tooltip>\r\n          </div>\r\n          <div id=\"location\">\r\n            <Tag icon={<EnvironmentOutlined />}>{`${user.city}, ${user.country}`}</Tag>\r\n          </div>\r\n          <div id=\"gender-interest\">\r\n            <Tag id=\"gender\" icon={user.gender === \"male\" ? <ManOutlined /> : user.gender === \"female\" ? <WomanOutlined /> : \"ðŸ³ï¸â€ðŸŒˆ\"} color=\"#55acee\">{user.gender}</Tag>\r\n            <p>Looking for</p>\r\n            <Tag id=\"Interest\" icon={user.looking === \"male\" ? <ManOutlined /> : user.looking === \"female\" ? <WomanOutlined /> : \"ðŸ³ï¸â€ðŸŒˆ\"} color=\"#ff69b4\">{user.looking}</Tag>\r\n          </div>\r\n          <div id=\"tags\">\r\n            {user.tags?.map((tag, index) => (<Tag key={index}>{tag.name}</Tag>))}\r\n          </div>\r\n        </div>\r\n      </Col>\r\n      <Col xs={24} md={13} span={16}>\r\n        <div id=\"main-container\">\r\n          <div id=\"name-div\">\r\n            <span id=\"fullname\">{`${user.firstname} ${user.lastname}`}</span>\r\n            <span id=\"online-dot\" style={status.online ? { backgroundColor: \"green\" } : { backgroundColor: \"#bfc1bf\" }}></span>\r\n            <span id=\"online-status\">{status.online ? \"Online\" : \"Active \" + moment(status.status).fromNow()}</span>\r\n            <div style={{ marginLeft: \"auto\" }}>\r\n              <Button shape=\"circle\" style={{ marginRight: \"5px\", borderColor: \"#d9374b\" }}>\r\n                {user.liked ? <DislikeOutlined onClick={() => handlUnLikeUser(state.id, user.id)} /> : <LikeOutlined onClick={() => handlLikeUser(state.id, user.id)} />}\r\n              </Button>\r\n              <Dropdown overlay={menu}>\r\n                <Button shape=\"circle\" style={{ marginRight: \"5px\", borderColor: \"#d9374b\" }} onClick={(e) => e.preventDefault()}><WarningTwoTone twoToneColor=\"#d9374b\" /></Button>\r\n              </Dropdown>\r\n              <Button shape=\"circle\" style={{ marginRight: \"5px\", borderColor: \"#d9374b\" }}>\r\n                {user.blocked === true ? <ReloadOutlined onClick={() => handlUnBlockUser(user.id)} /> : <StopOutlined onClick={() => handlBlockUser(user.id)} />}\r\n              </Button>\r\n              {/* Match and Unmatch Buttons */}\r\n              {user.matched ? (\r\n                <Button shape=\"circle\" style={{ borderColor: \"#d9374b\" }} onClick={handleUnmatchUser} icon={<UserDeleteOutlined twoToneColor=\"#d9374b\" />} />\r\n              ) : (\r\n                <Button shape=\"circle\" style={{ borderColor: \"#d9374b\" }} onClick={handleMatchUser} icon={<UserAddOutlined twoToneColor=\"#d9374b\" />} />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Divider />\r\n          <div>\r\n            <span id=\"description-title\">Description</span>\r\n            <p>{user.bio}</p>\r\n          </div>\r\n          <div>\r\n            <span id=\"pictures-title\">Pictures</span>\r\n            <div id=\"profile-pictures\">\r\n              {user.images?.map((img, index) => {\r\n                // Chuáº©n hÃ³a Ä‘Æ°á»ng dáº«n áº£nh báº±ng cÃ¡ch thay tháº¿ \\ báº±ng /\r\n                const normalizedUrl = img?.url.replace(/\\\\/g, \"/\");\r\n                console.log(\"Normalized Image URL:\", normalizedUrl);\r\n                return (\r\n                  <Image\r\n                    key={index}\r\n                    src={`http://localhost:3000/${normalizedUrl}`} // Sá»­ dá»¥ng URL Ä‘Ã£ chuáº©n hÃ³a\r\n                    style={{ borderRadius: \"8px\" }}\r\n                    onError={(e) => {\r\n                      e.target.src = \"http://localhost:3000/public/images/users/default.jpg\"; // ThÃªm áº£nh thay tháº¿ khi khÃ´ng táº£i Ä‘Æ°á»£c áº£nh gá»‘c\r\n                    }}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n"]},"metadata":{},"sourceType":"module"}