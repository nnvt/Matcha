{"ast":null,"code":"import \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/auto-complete/style\";\nimport _AutoComplete from \"antd/lib/auto-complete\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/slider/style\";\nimport _Slider from \"antd/lib/slider\";\nimport \"antd/lib/collapse/style\";\nimport _Collapse from \"antd/lib/collapse\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Matcha\\\\client\\\\src\\\\components\\\\Filter.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { FrownOutlined, SmileOutlined, PlusOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Filter = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const handleTagClick = () => {\n    setInputVisible(true);\n  };\n\n  const callback = key => {}; // * AGE FILTER\n\n\n  const handlChangeAge = e => {\n    if (e[0] >= 18 && e[1] <= 60) props.handleFilterAge(e[0], e[1]);\n  }; // * Distance FILTER\n\n\n  const handleChangeLocation = e => {\n    if (e[0] >= 0 && e[1] <= 1000) props.handleFilterDistance(e[0], e[1]);\n  }; // * FAME FILTER\n\n\n  const handleChangeFame = e => {\n    if (e[0] >= 0 && e[1] <= 100) props.handleFilterFame(e[0], e[1]);\n  }; // * COMMON TAGS FILTER\n  // ?USE CALLBACK FOR ARRAYS TAGS\n\n\n  function useStateCallback(initialState) {\n    _s();\n\n    const [state, setState] = useState(initialState);\n    const cbRef = useRef(null);\n    const setStateCallback = useCallback((state, cb) => {\n      cbRef.current = cb;\n      setState(state);\n    }, []);\n    useEffect(() => {\n      if (cbRef.current) {\n        cbRef.current(state);\n        cbRef.current = null;\n      }\n    }, [state]);\n    return [state, setStateCallback];\n  }\n\n  _s(useStateCallback, \"jTdDxQlCAPVP2Mx6g6s2UqDgtDs=\");\n\n  const [tags, setTags] = useStateCallback([]);\n  const [options, setOptions] = useStateCallback([]);\n  const [tag, setTag] = useState(\"\");\n  const [originalTags, setOriginalTags] = useState([]);\n  const [inputVisible, setInputVisible] = useState(false);\n  const {\n    Panel\n  } = _Collapse; //Tag Autocomplete\n\n  const getTags = async () => {\n    return new Promise(async (resolve, reject) => {\n      await axios.get(\"http://localhost:3001/api/tags/list\").then(res => {\n        resolve(res.data.data);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  };\n\n  useEffect(() => {\n    async function fetchTags() {\n      // You can await here\n      await getTags().then(data => {\n        let tags = data.map(tag => {\n          return \"#\" + tag.name;\n        });\n        setOriginalTags(tags);\n        setOptions(tags.map(t => {\n          return {\n            value: t\n          };\n        }));\n      }); // ...\n    }\n\n    fetchTags(); // eslint-disable-next-line\n  }, []); // Or [] if effect doesn't need props or state\n\n  const removeTag = tag => {\n    // eslint-disable-next-line\n    let tagsd = tags.filter(t => {\n      if (t !== tag) return t;\n    });\n    setTags(tagsd, data => props.handleFilterTags(data));\n  };\n\n  const onSelect = data => {\n    if (props.filter.tags.length <= 4) {\n      if (!tags.filter(t => t === data).length) setTags([...tags, data], data => props.handleFilterTags(data));\n      setTag(\"\");\n      setOptions(originalTags.map(t => {\n        return {\n          value: t\n        };\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Collapse, {\n    onChange: callback,\n    accordion: true,\n    style: {\n      borderRadius: \"15px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      header: \"Filter by :\",\n      style: {\n        borderRadius: \"15px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(_Card, {\n        style: {\n          width: \"100%\",\n          border: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Row, {\n          type: \"flex\",\n          style: {\n            justifyContent: \"space-around\",\n            marginBottom: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(_Col, {\n            md: 11,\n            span: 24,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Age:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Slider, {\n              min: 18,\n              max: 60,\n              range: {\n                draggableTrack: true\n              },\n              onChange: e => handlChangeAge(e),\n              defaultValue: [props.filter.minage, props.filter.maxage]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Col, {\n            md: 11,\n            span: 24,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Fame:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(FrownOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(_Slider, {\n                min: 0,\n                max: 100,\n                range: {\n                  draggableTrack: true\n                },\n                onChange: e => handleChangeFame(e),\n                defaultValue: [props.filter.minfame, props.filter.maxfame]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SmileOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Row, {\n          type: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(_Col, {\n            span: 24,\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Slider, {\n              min: 0,\n              max: 1000,\n              range: {\n                draggableTrack: true\n              },\n              onChange: e => handleChangeLocation(e),\n              defaultValue: [props.filter.mind, props.filter.maxd]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Col, {\n            span: 24,\n            style: {\n              borderRadius: \"10px\",\n              padding: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n              children: [props.filter.tags.map(tag => /*#__PURE__*/_jsxDEV(_Tag, {\n                width: 0.5,\n                style: {\n                  marginBottom: \"15px\",\n                  fontSize: \"15px\",\n                  borderRadius: \"6px\",\n                  color: \"white\",\n                  padding: \"5px 13px\",\n                  boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\n                  background: \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\"\n                },\n                closeIcon: /*#__PURE__*/_jsxDEV(CloseOutlined, {\n                  style: {\n                    color: \"#fff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 32\n                }, this),\n                onClose: () => removeTag(tag),\n                closable: true,\n                children: tag\n              }, tag, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)), inputVisible && /*#__PURE__*/_jsxDEV(_AutoComplete, {\n                options: options,\n                style: {\n                  width: \"110px\",\n                  marginRight: \"8px\",\n                  verticalAlign: \"top\",\n                  marginTop: \"2px\",\n                  height: \"30px\"\n                },\n                value: tag,\n                onSelect: onSelect,\n                placeholder: \"Add tag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), !inputVisible && /*#__PURE__*/_jsxDEV(_Tag, {\n                className: \"site-tag-plus\",\n                onClick: handleTagClick,\n                children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this), \" New Tag\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            style: {\n              marginTop: \"20px\",\n              fontSize: \"0.8em\",\n              borderRadius: \"6px\"\n            },\n            onClick: props.statusSearch ? props.loadSearchUsers : props.loadUsers,\n            children: \"Filter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, \"0\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Filter, \"t+hdNTBK0579RkpOY1Dz0eO8+VU=\", true);\n\n_c = Filter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Matcha/client/src/components/Filter.js"],"names":["React","useState","useEffect","useCallback","useRef","FrownOutlined","SmileOutlined","PlusOutlined","CloseOutlined","axios","Filter","props","handleTagClick","setInputVisible","callback","key","handlChangeAge","e","handleFilterAge","handleChangeLocation","handleFilterDistance","handleChangeFame","handleFilterFame","useStateCallback","initialState","state","setState","cbRef","setStateCallback","cb","current","tags","setTags","options","setOptions","tag","setTag","originalTags","setOriginalTags","inputVisible","Panel","getTags","Promise","resolve","reject","get","then","res","data","catch","error","fetchTags","map","name","t","value","removeTag","tagsd","filter","handleFilterTags","onSelect","length","borderRadius","width","border","justifyContent","marginBottom","draggableTrack","minage","maxage","minfame","maxfame","mind","maxd","padding","fontSize","color","boxShadow","background","marginRight","verticalAlign","marginTop","height","textAlign","statusSearch","loadSearchUsers","loadUsers"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Slider,\r\n  Tag,\r\n  Form,\r\n  Button,\r\n  Collapse,\r\n  AutoComplete,\r\n} from \"antd\";\r\nimport {\r\n  FrownOutlined,\r\n  SmileOutlined,\r\n  PlusOutlined,\r\n  CloseOutlined,\r\n} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\nexport const Filter = (props) => {\r\n  const handleTagClick = () => {\r\n    setInputVisible(true);\r\n  };\r\n\r\n  const callback = (key) => {};\r\n\r\n  // * AGE FILTER\r\n  const handlChangeAge = (e) => {\r\n    if (e[0] >= 18 && e[1] <= 60) props.handleFilterAge(e[0], e[1]);\r\n  };\r\n\r\n  // * Distance FILTER\r\n  const handleChangeLocation = (e) => {\r\n    if (e[0] >= 0 && e[1] <= 1000) props.handleFilterDistance(e[0], e[1]);\r\n  };\r\n\r\n  // * FAME FILTER\r\n  const handleChangeFame = (e) => {\r\n    if (e[0] >= 0 && e[1] <= 100) props.handleFilterFame(e[0], e[1]);\r\n  };\r\n\r\n  // * COMMON TAGS FILTER\r\n  // ?USE CALLBACK FOR ARRAYS TAGS\r\n  function useStateCallback(initialState) {\r\n    const [state, setState] = useState(initialState);\r\n    const cbRef = useRef(null);\r\n\r\n    const setStateCallback = useCallback((state, cb) => {\r\n      cbRef.current = cb;\r\n      setState(state);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (cbRef.current) {\r\n        cbRef.current(state);\r\n        cbRef.current = null;\r\n      }\r\n    }, [state]);\r\n\r\n    return [state, setStateCallback];\r\n  }\r\n\r\n  const [tags, setTags] = useStateCallback([]);\r\n  const [options, setOptions] = useStateCallback([]);\r\n  const [tag, setTag] = useState(\"\");\r\n  const [originalTags, setOriginalTags] = useState([]);\r\n  const [inputVisible, setInputVisible] = useState(false);\r\n  const { Panel } = Collapse;\r\n\r\n  //Tag Autocomplete\r\n  const getTags = async () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      await axios\r\n        .get(\"http://localhost:3001/api/tags/list\")\r\n        .then((res) => {\r\n          resolve(res.data.data);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    async function fetchTags() {\r\n      // You can await here\r\n      await getTags().then((data) => {\r\n        let tags = data.map((tag) => {\r\n          return \"#\" + tag.name;\r\n        });\r\n        setOriginalTags(tags);\r\n        setOptions(\r\n          tags.map((t) => {\r\n            return { value: t };\r\n          })\r\n        );\r\n      });\r\n      // ...\r\n    }\r\n    fetchTags();\r\n    // eslint-disable-next-line\r\n  }, []); // Or [] if effect doesn't need props or state\r\n\r\n  const removeTag = (tag) => {\r\n    // eslint-disable-next-line\r\n    let tagsd = tags.filter((t) => {\r\n      if (t !== tag) return t;\r\n    });\r\n    setTags(tagsd, (data) => props.handleFilterTags(data));\r\n  };\r\n\r\n  const onSelect = (data) => {\r\n    if (props.filter.tags.length <= 4) {\r\n      if (!tags.filter((t) => t === data).length)\r\n        setTags([...tags, data], (data) => props.handleFilterTags(data));\r\n      setTag(\"\");\r\n      setOptions(\r\n        originalTags.map((t) => {\r\n          return { value: t };\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <Collapse onChange={callback} accordion style={{ borderRadius: \"15px\" }}>\r\n      <Panel header=\"Filter by :\" key=\"0\" style={{ borderRadius: \"15px\" }}>\r\n        <Card style={{ width: \"100%\", border: \"none\" }}>\r\n          <Row\r\n            type=\"flex\"\r\n            style={{ justifyContent: \"space-around\", marginBottom: \"20px\" }}>\r\n            <Col md={11} span={24}>\r\n              <h4>Age:</h4>\r\n              <Slider\r\n                min={18}\r\n                max={60}\r\n                range={{ draggableTrack: true }}\r\n                onChange={(e) => handlChangeAge(e)}\r\n                defaultValue={[props.filter.minage, props.filter.maxage]}\r\n              />\r\n            </Col>\r\n            <Col md={11} span={24}>\r\n              <h4>Fame:</h4>\r\n              <div className=\"icon-wrapper\">\r\n                <FrownOutlined />\r\n                <Slider\r\n                  min={0}\r\n                  max={100}\r\n                  range={{ draggableTrack: true }}\r\n                  onChange={(e) => handleChangeFame(e)}\r\n                  defaultValue={[props.filter.minfame, props.filter.maxfame]}\r\n                />\r\n                <SmileOutlined />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row type=\"flex\">\r\n            <Col span={24} style={{ marginBottom: \"10px\" }}>\r\n              <h4>Location:</h4>\r\n              <Slider\r\n                min={0}\r\n                max={1000}\r\n                range={{ draggableTrack: true }}\r\n                onChange={(e) => handleChangeLocation(e)}\r\n                defaultValue={[props.filter.mind, props.filter.maxd]}\r\n              />\r\n            </Col>\r\n            <h4>Tags</h4>\r\n            <Col\r\n              span={24}\r\n              style={{\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n              }}>\r\n              <Form.Item>\r\n                {props.filter.tags.map((tag) => (\r\n                  <Tag\r\n                    width={0.5}\r\n                    key={tag}\r\n                    style={{\r\n                      marginBottom: \"15px\",\r\n                      fontSize: \"15px\",\r\n                      borderRadius: \"6px\",\r\n                      color: \"white\",\r\n                      padding: \"5px 13px\",\r\n                      boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\r\n                      background:\r\n                        \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\",\r\n                    }}\r\n                    closeIcon={<CloseOutlined style={{ color: \"#fff\" }} />}\r\n                    onClose={() => removeTag(tag)}\r\n                    closable={true}>\r\n                    {tag}\r\n                  </Tag>\r\n                ))}\r\n                {inputVisible && (\r\n                  <AutoComplete\r\n                    options={options}\r\n                    style={{\r\n                      width: \"110px\",\r\n                      marginRight: \"8px\",\r\n                      verticalAlign: \"top\",\r\n                      marginTop: \"2px\",\r\n                      height: \"30px\",\r\n                    }}\r\n                    value={tag}\r\n                    onSelect={onSelect}\r\n                    placeholder=\"Add tag\"\r\n                  />\r\n                )}\r\n                {!inputVisible && (\r\n                  <Tag className=\"site-tag-plus\" onClick={handleTagClick}>\r\n                    <PlusOutlined /> New Tag\r\n                  </Tag>\r\n                )}\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <div style={{ textAlign: \"center\" }}>\r\n            <Button\r\n              type=\"primary\"\r\n              style={{\r\n                marginTop: \"20px\",\r\n                fontSize: \"0.8em\",\r\n                borderRadius: \"6px\",\r\n              }}\r\n              onClick={\r\n                props.statusSearch ? props.loadSearchUsers : props.loadUsers\r\n              }>\r\n              Filter\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </Panel>\r\n    </Collapse>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}