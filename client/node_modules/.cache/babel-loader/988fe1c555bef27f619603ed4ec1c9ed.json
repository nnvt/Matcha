{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/result/style\";\nimport _Result from \"antd/lib/result\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Matcha\\\\client\\\\src\\\\pages\\\\Verify.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Verify = props => {\n  _s();\n\n  const [reqStatus, setStatus] = useState(\"sending\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const aToken = props.location.search.split(\"=\")[1];\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }; // eslint-disable-next-line\n\n  useEffect(async () => {\n    await verifyAccount(); // eslint-disable-next-line\n  }, []);\n\n  const verifyAccount = async () => {\n    setTimeout(async () => {\n      try {\n        await axios.patch(\"http://localhost:3001/api/users/verify\", {\n          token: aToken\n        }, config).then(res => {\n          if (res.data) {\n            setLoading(false);\n            setStatus(\"true\");\n            setMessage(res.data.message);\n          }\n        }).catch(err => {\n          if (err.response.data) {\n            setLoading(false);\n            setStatus(\"false\");\n            setMessage(err.response.data.error);\n          }\n        });\n      } catch (error) {\n        setLoading(false);\n        setStatus(\"false\");\n        setMessage(\"An error has occurred !\");\n      }\n    }, 4000);\n  };\n\n  const alert = reqStatus === \"sending\" ? /*#__PURE__*/_jsxDEV(_Result, {\n    status: \"404\",\n    title: \"On verifying..\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this) : reqStatus === \"true\" ? /*#__PURE__*/_jsxDEV(_Result, {\n    status: \"success\",\n    title: \"Verified successfully\",\n    subTitle: message,\n    extra: /*#__PURE__*/_jsxDEV(_Button, {\n      style: {\n        fontSize: \"0.6rem\"\n      },\n      type: \"primary\",\n      href: \"/login\",\n      children: \"Login\"\n    }, \"login\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(_Result, {\n    status: \"error\",\n    title: \"Failed to verify account\",\n    subTitle: message,\n    extra: /*#__PURE__*/_jsxDEV(_Button, {\n      style: {\n        fontSize: \"0.6rem\"\n      },\n      type: \"primary\",\n      href: \"/\",\n      children: \"Back To Home\"\n    }, \"/\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"middle\",\n      children: /*#__PURE__*/_jsxDEV(_Spin, {\n        spinning: loading,\n        delay: 200,\n        size: \"large\",\n        children: alert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Verify, \"wcQyR2DRtfo5ufM0zp16cdB7Bkg=\");\n\n_c = Verify;\nexport default Verify;\n\nvar _c;\n\n$RefreshReg$(_c, \"Verify\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Matcha/client/src/pages/Verify.js"],"names":["React","useState","useEffect","axios","Verify","props","reqStatus","setStatus","message","setMessage","loading","setLoading","aToken","location","search","split","config","headers","verifyAccount","setTimeout","patch","token","then","res","data","catch","err","response","error","alert","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Result, Button, Spin } from \"antd\";\r\nimport axios from \"axios\";\r\n\r\nconst Verify = (props) => {\r\n  const [reqStatus, setStatus] = useState(\"sending\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const aToken = props.location.search.split(\"=\")[1];\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  // eslint-disable-next-line\r\n  useEffect(async () => {\r\n    await verifyAccount();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const verifyAccount = async () => {\r\n    setTimeout(async () => {\r\n      try {\r\n        await axios\r\n          .patch(\r\n            \"http://localhost:3001/api/users/verify\",\r\n            { token: aToken },\r\n            config\r\n          )\r\n          .then((res) => {\r\n            if (res.data) {\r\n              setLoading(false);\r\n              setStatus(\"true\");\r\n              setMessage(res.data.message);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            if (err.response.data) {\r\n              setLoading(false);\r\n              setStatus(\"false\");\r\n              setMessage(err.response.data.error);\r\n            }\r\n          });\r\n      } catch (error) {\r\n        setLoading(false);\r\n        setStatus(\"false\");\r\n        setMessage(\"An error has occurred !\");\r\n      }\r\n    }, 4000);\r\n  };\r\n\r\n  const alert =\r\n    reqStatus === \"sending\" ? (\r\n      <Result status=\"404\" title=\"On verifying..\" />\r\n    ) : reqStatus === \"true\" ? (\r\n      <Result\r\n        status=\"success\"\r\n        title=\"Verified successfully\"\r\n        subTitle={message}\r\n        extra={\r\n          <Button\r\n            style={{ fontSize: \"0.6rem\" }}\r\n            type=\"primary\"\r\n            key=\"login\"\r\n            href=\"/login\">\r\n            Login\r\n          </Button>\r\n        }\r\n      />\r\n    ) : (\r\n      <Result\r\n        status=\"error\"\r\n        title=\"Failed to verify account\"\r\n        subTitle={message}\r\n        extra={\r\n          <Button\r\n            style={{ fontSize: \"0.6rem\" }}\r\n            type=\"primary\"\r\n            key=\"/\"\r\n            href=\"/\">\r\n            Back To Home\r\n          </Button>\r\n        }\r\n      />\r\n    );\r\n  return (\r\n    <>\r\n      <div align=\"middle\">\r\n        <Spin spinning={loading} delay={200} size=\"large\">\r\n          {alert}\r\n        </Spin>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Verify;\r\n"]},"metadata":{},"sourceType":"module"}