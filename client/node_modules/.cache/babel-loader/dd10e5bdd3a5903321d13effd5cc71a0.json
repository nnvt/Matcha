{"ast":null,"code":"import \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/auto-complete/style\";\nimport _AutoComplete from \"antd/lib/auto-complete\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/slider/style\";\nimport _Slider from \"antd/lib/slider\";\nimport \"antd/lib/collapse/style\";\nimport _Collapse from \"antd/lib/collapse\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Matcha\\\\client\\\\src\\\\components\\\\Search.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { FrownOutlined, SmileOutlined, PlusOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Search = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const handleTagClick = () => {\n    setInputVisible(true);\n  }; // const mid = ((age.fameEnd - age.fameStart) / 2).toFixed(5);\n  // const preColorCls = age.value >= mid ? \"\" : \"icon-wrapper-active\";\n  // const nextColorCls = age.value >= mid ? \"icon-wrapper-active\" : \"\";\n  // * AGE search\n\n\n  const handlChangeAge = e => {\n    if (e[0] >= 18 && e[1] <= 60) props.handleSearchAge(e[0], e[1]);\n  }; // * Location Search\n\n\n  const handleChangeLocation = e => {\n    props.handleSearchLocation(e.target.value);\n  }; // * FAME Search\n\n\n  const handleChangeFame = e => {\n    if (e[0] >= 0 && e[1] <= 100) props.handleSearchFame(e[0], e[1]);\n  }; // * COMMON TAGS FILTER\n  // ?USE CALLBACK FOR ARRAYS TAGS\n\n\n  function useStateCallback(initialState) {\n    _s();\n\n    const [state, setState] = useState(initialState);\n    const cbRef = useRef(null);\n    const setStateCallback = useCallback((state, cb) => {\n      cbRef.current = cb;\n      setState(state);\n    }, []);\n    useEffect(() => {\n      if (cbRef.current) {\n        cbRef.current(state);\n        cbRef.current = null;\n      }\n    }, [state]);\n    return [state, setStateCallback];\n  }\n\n  _s(useStateCallback, \"jTdDxQlCAPVP2Mx6g6s2UqDgtDs=\");\n\n  const [tags, setTags] = useStateCallback([]);\n  const [options, setOptions] = useStateCallback([]);\n  const [tag, setTag] = useState(\"\");\n  const [originalTags, setOriginalTags] = useState([]);\n  const [inputVisible, setInputVisible] = useState(false);\n  const {\n    Panel\n  } = _Collapse; //Tag Autocomplete\n\n  const getTags = async () => {\n    return new Promise(async (resolve, reject) => {\n      await axios.get(\"http://localhost:3001/api/tags/list\").then(res => {\n        resolve(res.data.data);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  }; // eslint-disable-next-line\n\n\n  useEffect(async () => {\n    await getTags().then(data => {\n      let tags = data.map(tag => {\n        return \"#\" + tag.name;\n      });\n      setOriginalTags(tags);\n      setOptions(tags.map(t => {\n        return {\n          value: t\n        };\n      }));\n    }); // eslint-disable-next-line\n  }, []);\n\n  const removeTag = tag => {\n    // eslint-disable-next-line\n    let tagsd = tags.filter(t => {\n      if (t !== tag) return t;\n    });\n    setTags(tagsd, data => props.handleSearchTags(data));\n  };\n\n  const onSelect = data => {\n    // eslint-disable-next-line\n    if (props.search.tags.length <= 4) {\n      // eslint-disable-next-line\n      if (!tags.filter(t => t == data).length) setTags([...tags, data], data => props.handleSearchTags(data));\n      setTag(\"\");\n      setOptions(originalTags.map(t => {\n        return {\n          value: t\n        };\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Collapse, {\n    accordion: true,\n    style: {\n      borderRadius: \"15px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      header: \"Search by :\",\n      style: {\n        borderRadius: \"15px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(_Card, {\n        style: {\n          width: \"100%\",\n          border: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(_Row, {\n          type: \"flex\",\n          style: {\n            justifyContent: \"space-around\",\n            marginBottom: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(_Col, {\n            md: 11,\n            span: 24,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Age:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Slider, {\n              min: 18,\n              max: 60,\n              range: {\n                draggableTrack: true\n              },\n              onChange: e => handlChangeAge(e),\n              defaultValue: [props.search.minage, props.search.maxage]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Col, {\n            md: 11,\n            span: 24,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Fame:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(FrownOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(_Slider, {\n                min: 0,\n                max: 100,\n                range: {\n                  draggableTrack: true\n                },\n                onChange: e => handleChangeFame(e),\n                defaultValue: [props.search.minfame, props.search.maxfame]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SmileOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Row, {\n          type: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(_Col, {\n            span: 24,\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(_Input, {\n              placeholder: \"Choose a location...\",\n              onChange: e => handleChangeLocation(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Col, {\n            span: 24,\n            style: {\n              borderRadius: \"10px\",\n              padding: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(_Form.Item, {\n              children: [props.search.tags.map(tag => /*#__PURE__*/_jsxDEV(_Tag, {\n                width: 0.5,\n                style: {\n                  marginBottom: \"15px\",\n                  fontSize: \"15px\",\n                  borderRadius: \"6px\",\n                  color: \"white\",\n                  padding: \"5px 13px\",\n                  boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\n                  background: \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\"\n                },\n                closeIcon: /*#__PURE__*/_jsxDEV(CloseOutlined, {\n                  style: {\n                    color: \"#fff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 32\n                }, this),\n                onClose: () => removeTag(tag),\n                closable: true,\n                children: tag\n              }, tag, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this)), inputVisible && /*#__PURE__*/_jsxDEV(_AutoComplete, {\n                options: options,\n                style: {\n                  width: \"110px\",\n                  marginRight: \"8px\",\n                  verticalAlign: \"top\",\n                  marginTop: \"2px\",\n                  height: \"30px\"\n                },\n                value: tag,\n                onSelect: onSelect,\n                placeholder: \"Add tag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), !inputVisible && /*#__PURE__*/_jsxDEV(_Tag, {\n                className: \"site-tag-plus\",\n                onClick: handleTagClick,\n                children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this), \" New Tag\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            style: {\n              marginRight: \"15px\",\n              marginTop: \"20px\",\n              fontSize: \"0.8em\",\n              borderRadius: \"6px\"\n            },\n            onClick: props.loadSearchUsers,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            style: {\n              marginTop: \"20px\",\n              fontSize: \"0.8em\",\n              borderRadius: \"6px\"\n            },\n            onClick: props.clearSearch,\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, \"0\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Search, \"t+hdNTBK0579RkpOY1Dz0eO8+VU=\", true);\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Matcha/client/src/components/Search.js"],"names":["React","useState","useEffect","useCallback","useRef","FrownOutlined","SmileOutlined","PlusOutlined","CloseOutlined","axios","Search","props","handleTagClick","setInputVisible","handlChangeAge","e","handleSearchAge","handleChangeLocation","handleSearchLocation","target","value","handleChangeFame","handleSearchFame","useStateCallback","initialState","state","setState","cbRef","setStateCallback","cb","current","tags","setTags","options","setOptions","tag","setTag","originalTags","setOriginalTags","inputVisible","Panel","getTags","Promise","resolve","reject","get","then","res","data","catch","error","map","name","t","removeTag","tagsd","filter","handleSearchTags","onSelect","search","length","borderRadius","width","border","justifyContent","marginBottom","draggableTrack","minage","maxage","minfame","maxfame","padding","fontSize","color","boxShadow","background","marginRight","verticalAlign","marginTop","height","textAlign","loadSearchUsers","clearSearch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Slider,\r\n  Input,\r\n  Tag,\r\n  Form,\r\n  Button,\r\n  Collapse,\r\n  AutoComplete,\r\n} from \"antd\";\r\nimport {\r\n  FrownOutlined,\r\n  SmileOutlined,\r\n  PlusOutlined,\r\n  CloseOutlined,\r\n} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\nexport const Search = (props) => {\r\n  const handleTagClick = () => {\r\n    setInputVisible(true);\r\n  };\r\n\r\n  // const mid = ((age.fameEnd - age.fameStart) / 2).toFixed(5);\r\n  // const preColorCls = age.value >= mid ? \"\" : \"icon-wrapper-active\";\r\n  // const nextColorCls = age.value >= mid ? \"icon-wrapper-active\" : \"\";\r\n\r\n  // * AGE search\r\n  const handlChangeAge = (e) => {\r\n    if (e[0] >= 18 && e[1] <= 60) props.handleSearchAge(e[0], e[1]);\r\n  };\r\n  // * Location Search\r\n  const handleChangeLocation = (e) => {\r\n    props.handleSearchLocation(e.target.value);\r\n  };\r\n\r\n  // * FAME Search\r\n  const handleChangeFame = (e) => {\r\n    if (e[0] >= 0 && e[1] <= 100) props.handleSearchFame(e[0], e[1]);\r\n  };\r\n\r\n  // * COMMON TAGS FILTER\r\n  // ?USE CALLBACK FOR ARRAYS TAGS\r\n  function useStateCallback(initialState) {\r\n    const [state, setState] = useState(initialState);\r\n    const cbRef = useRef(null);\r\n\r\n    const setStateCallback = useCallback((state, cb) => {\r\n      cbRef.current = cb;\r\n      setState(state);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (cbRef.current) {\r\n        cbRef.current(state);\r\n        cbRef.current = null;\r\n      }\r\n    }, [state]);\r\n\r\n    return [state, setStateCallback];\r\n  }\r\n\r\n  const [tags, setTags] = useStateCallback([]);\r\n  const [options, setOptions] = useStateCallback([]);\r\n  const [tag, setTag] = useState(\"\");\r\n  const [originalTags, setOriginalTags] = useState([]);\r\n  const [inputVisible, setInputVisible] = useState(false);\r\n  const { Panel } = Collapse;\r\n\r\n  //Tag Autocomplete\r\n  const getTags = async () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      await axios\r\n        .get(\"http://localhost:3001/api/tags/list\")\r\n        .then((res) => {\r\n          resolve(res.data.data);\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n  // eslint-disable-next-line\r\n  useEffect(async () => {\r\n    await getTags().then((data) => {\r\n      let tags = data.map((tag) => {\r\n        return \"#\" + tag.name;\r\n      });\r\n      setOriginalTags(tags);\r\n      setOptions(\r\n        tags.map((t) => {\r\n          return { value: t };\r\n        })\r\n      );\r\n    });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const removeTag = (tag) => {\r\n    // eslint-disable-next-line\r\n    let tagsd = tags.filter((t) => {\r\n      if (t !== tag) return t;\r\n    });\r\n    setTags(tagsd, (data) => props.handleSearchTags(data));\r\n  };\r\n\r\n  const onSelect = (data) => {\r\n    // eslint-disable-next-line\r\n    if (props.search.tags.length <= 4) {\r\n      // eslint-disable-next-line\r\n      if (!tags.filter((t) => t == data).length)\r\n        setTags([...tags, data], (data) => props.handleSearchTags(data));\r\n      setTag(\"\");\r\n      setOptions(\r\n        originalTags.map((t) => {\r\n          return { value: t };\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Collapse accordion style={{ borderRadius: \"15px\" }}>\r\n      <Panel header=\"Search by :\" key=\"0\" style={{ borderRadius: \"15px\" }}>\r\n        <Card style={{ width: \"100%\", border: \"none\" }}>\r\n          <Row\r\n            type=\"flex\"\r\n            style={{ justifyContent: \"space-around\", marginBottom: \"20px\" }}\r\n          >\r\n            <Col md={11} span={24}>\r\n              <h4>Age:</h4>\r\n              <Slider\r\n                min={18}\r\n                max={60}\r\n                range={{ draggableTrack: true }}\r\n                onChange={(e) => handlChangeAge(e)}\r\n                defaultValue={[props.search.minage, props.search.maxage]}\r\n              />\r\n            </Col>\r\n            <Col md={11} span={24}>\r\n              <h4>Fame:</h4>\r\n              <div className=\"icon-wrapper\">\r\n                <FrownOutlined />\r\n                <Slider\r\n                  min={0}\r\n                  max={100}\r\n                  range={{ draggableTrack: true }}\r\n                  onChange={(e) => handleChangeFame(e)}\r\n                  defaultValue={[props.search.minfame, props.search.maxfame]}\r\n                />\r\n                <SmileOutlined />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row type=\"flex\">\r\n            <Col span={24} style={{ marginBottom: \"10px\" }}>\r\n              <h4>Location:</h4>\r\n              <Input\r\n                placeholder=\"Choose a location...\"\r\n                onChange={(e) => handleChangeLocation(e)}\r\n              />\r\n            </Col>\r\n            <h4>Tags</h4>\r\n            <Col\r\n              span={24}\r\n              style={{\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n              }}\r\n            >\r\n              <Form.Item>\r\n                {props.search.tags.map((tag) => (\r\n                  <Tag\r\n                    width={0.5}\r\n                    key={tag}\r\n                    style={{\r\n                      marginBottom: \"15px\",\r\n                      fontSize: \"15px\",\r\n                      borderRadius: \"6px\",\r\n                      color: \"white\",\r\n                      padding: \"5px 13px\",\r\n                      boxShadow: \"0px 4px 9px rgb(42 139 242 / 20%)\",\r\n                      background:\r\n                        \"linear-gradient(3deg, #60a9f6 0%, #2a8bf2 100%)\",\r\n                    }}\r\n                    closeIcon={<CloseOutlined style={{ color: \"#fff\" }} />}\r\n                    onClose={() => removeTag(tag)}\r\n                    closable={true}\r\n                  >\r\n                    {tag}\r\n                  </Tag>\r\n                ))}\r\n                {inputVisible && (\r\n                  <AutoComplete\r\n                    options={options}\r\n                    style={{\r\n                      width: \"110px\",\r\n                      marginRight: \"8px\",\r\n                      verticalAlign: \"top\",\r\n                      marginTop: \"2px\",\r\n                      height: \"30px\",\r\n                    }}\r\n                    value={tag}\r\n                    onSelect={onSelect}\r\n                    placeholder=\"Add tag\"\r\n                  />\r\n                )}\r\n                {!inputVisible && (\r\n                  <Tag className=\"site-tag-plus\" onClick={handleTagClick}>\r\n                    <PlusOutlined /> New Tag\r\n                  </Tag>\r\n                )}\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <div style={{ textAlign: \"center\" }}>\r\n            <Button\r\n              type=\"primary\"\r\n              style={{\r\n                marginRight: \"15px\",\r\n                marginTop: \"20px\",\r\n                fontSize: \"0.8em\",\r\n                borderRadius: \"6px\",\r\n              }}\r\n              onClick={props.loadSearchUsers}\r\n            >\r\n              Search\r\n            </Button>\r\n            <Button\r\n              type=\"primary\"\r\n              style={{\r\n                marginTop: \"20px\",\r\n                fontSize: \"0.8em\",\r\n                borderRadius: \"6px\",\r\n              }}\r\n              onClick={props.clearSearch}\r\n            >\r\n              Clear\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </Panel>\r\n    </Collapse>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}